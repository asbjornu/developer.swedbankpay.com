


<!DOCTYPE html>
<html lang="en-US">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#000">
        <meta name="application-name" content="Swedbank Pay Payments Swish Other Features">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title"
            content="Swedbank Pay Payments Swish Other Features">
        <meta name="msapplication-TileColor" content="#000">
        <meta name="msapplication-TileImage" content="https://design.swedbankpay.com/v/4.3.0/icons/mstile-144x144.png">
        <meta property="og:type" value="website" />
        
        <meta property="og:url" value="https://developer.swedbankpay.com/payments/swish/other-features.html" />
        <meta property="og:title" value="Swedbank Pay Payments Swish Other Features" />
        <meta name="title" content="Swedbank Pay Payments Swish Other Features" />
        
        <meta property="og:description" value="Swedbank Pay Developer Portal" />
        <meta name="description" content="Swedbank Pay Developer Portal" />
        
        <meta property="og:image" value="/assets/img/swedbank-pay-developer-portal.png" />
        <title>Swedbank Pay Payments Swish Other Features</title>
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/4.3.0/styles/dg-style.css" />
        <link rel="stylesheet" href="/assets/css/swedbank-pay-design-guide-theme.css" />
        <link rel="stylesheet" href="/assets/css/prism.css" />
        <link rel="shortcut icon" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon.ico">
        <link rel="icon" type="image/png" sizes="16x16" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon-32x32.png">
        <link rel="apple-touch-icon" sizes="57x57"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="167x167"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-167x167.png">
        <link rel="apple-touch-icon" sizes="180x180"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-180x180.png">
        <link rel="apple-touch-icon" sizes="1024x1024"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-1024x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-320x460.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-640x920.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-640x1096.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-750x1294.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1182x2208.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1242x2148.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-748x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-768x1004.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1496x2048.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1536x2008.png">
        <link rel="icon" type="image/png" sizes="228x228" href="https://design.swedbankpay.com/v/4.3.0/icons/coast-228x228.png">
        <script src="/assets/js/mermaid.min.js"></script>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
        <script src="/assets/tipuesearch/tipuesearch.min.js"></script>
        
    </head>

    <body>
        <div id="designguide">
            <header class="topbar topbar-md-wide designguide-header">
                <button type="button" class="topbar-btn"><i class="material-icons topbar-btn-icon">menu</i></button>
                <a href="https://developer.swedbankpay.com" class="topbar-logo"><img
                        src="https://design.swedbankpay.com/v/4.3.0/img/swedbankpay-logo.svg" alt="logo"></a>
                <nav class="topbar-nav">
                    <div class="topbar-link-container">
                        <button type="button" class="topbar-close"><i class="material-icons">close</i></button>

                        
                        

                        

                        <a 
                            href="/"><span>Home</span></a>

                        
                        
                        <a 
                            href="/checkout/"><span>Checkout</span></a>
                        
                        
                        <a 
                            href="/payments/"><span>Payments</span></a>
                        
                        
                        <a 
                            href="/resources/"><span>Resources</span></a>
                        

                        <div class="topbar-info topbar-link-right">
                            <div class="topbar-info-contact">
                                <a href="https://github.com/SwedbankPay/developer.swedbankpay.com/tree/master/payments/swish/other-features.md" target="_blank"
                                    rel="noopener noreferrer" title="Edit this page on GitHub">
                                    <svg aria-labelledby="simpleicons-github-icon" role="img" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <title id="simpleicons-github-icon">Edit this page on GitHub</title>
                                        <path
                                            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>

            <div class="documentation">
                <div class="row">
                    <div class="col-xxl-2 col-md-3">
                        <div class="doc-sidebar">
                            
                            <form class="doc-search" action="/search">
                                <input type="text" class="form-control" name="q" id="tipue_search_input"
                                    placeholder="Search..." autocomplete="off" pattern=".{3,}"
                                    title="At least 3 characters">
                            </form>
                            
                            
                            <nav class="documentation-nav">
                                
                                
                                <div class="nav-group active">
                                    <div class="nav-heading">
                                        <i class="material-icons">keyboard_arrow_right</i>
                                        <span>Swish Payments</span>
                                    </div>

                                    
                                    <ul>
                                        
                                        
                                        <li><a  href="/payments/swish"><span>Introduction</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/swish/direct"><span>Direct</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/swish/redirect"><span>Redirect</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/swish/seamless-view"><span>Seamless View</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/swish/after-payment"><span>After Payment</span></a></li>
                                        
                                        
                                        <li><a  aria-current="page" class="active"
                                                 href="/payments/swish/other-features"><span>Other Features</span></a></li>
                                        
                                    </ul>
                                    
                                </div>
                                
                            </nav>
                            
                        </div>
                    </div>

                    <main class="doc-view col-xxl-10 col-md-9">
                        <div class="doc-container">
                            <h1>Swedbank Pay Payments Swish Other Features</h1>
                            <div class="row">
                                <div class="doc-body col-lg-10">
                                    
                                    <h2 id="payment-resource">
        
        
          Payment Resource <a href="#payment-resource" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-plaintext highlighter-rouge">payment</code> resource is central to all payment instruments. All operations
that target the payment resource directly produce a response similar to the
example seen below. The response given contains all operations that are
possible to perform in the current state of the payment.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"reversals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/reversals"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"cancellations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/cancellations"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-payment-abort"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create-capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">payment</code> object contains information about the specific payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment  number , useful when there’s need to reference the payment in human communication. Not usable for programmatic identification of the payment, for that  id  should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was updated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Ready ,  Pending ,  Failed  or  Aborted . Indicates the state of the payment. This field is only for status display purposes. To</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">prices</code> resource lists the prices related to a specific payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">prices.id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current prices resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(40)</code></td>
      <td style="text-align: left">A textual description of maximum 40 characters of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payerReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The reference to the payer (consumer/end-user) from the merchant system, like e-mail address, mobile number, customer number etc.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The <a href="https://en.wikipedia.org/wiki/User_agent">user agent</a> string of the consumer’s browser.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">nb-NO</code> , <code class="language-plaintext highlighter-rouge">sv-SE</code>  or  <code class="language-plaintext highlighter-rouge">en-US</code></td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the  urls  resource where all URIs related to the payment can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeInfo</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the  payeeinfo  resource where the information about the payee of the payment can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">operations</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of possible operations to perform</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">method</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The HTTP method to use when performing the operation.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">href</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The target URI to perform the operation against.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">rel</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the relation the operation has to the current resource.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="operations">
        
        
          Operations <a href="#operations" class="header-anchor"></a>
        
        
      </h3>

<p>The operations should be performed as described in each response and not as
described here in the documentation.
Always use the <code class="language-plaintext highlighter-rouge">href</code> and <code class="language-plaintext highlighter-rouge">method</code> as specified in the response by finding
the appropriate operation based on its <code class="language-plaintext highlighter-rouge">rel</code> value.
The only thing that should be hard coded in the client is the value of
the <code class="language-plaintext highlighter-rouge">rel</code> and the request that will be sent in the HTTP body of the request
for the given operation.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Operation</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">update-payment-abort</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">abort</code>s the payment order before any financial transactions are performed.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">create-capture</code></td>
      <td style="text-align: left">Creates a <code class="language-plaintext highlighter-rouge">capture</code> transaction in order to charge the reserved funds from the consumer.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">create-cancellation</code></td>
      <td style="text-align: left">Creates a <code class="language-plaintext highlighter-rouge">cancellation</code> transaction that cancels a created, but not yet captured payment.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="payment-states-and-transaction-states">
        
        
          Payment States And Transaction States <a href="#payment-states-and-transaction-states" class="header-anchor"></a>
        
        
      </h2>

<p>Both payments and transactions can be in several different states during
the course of a purchase. You can find a short description of each state below.</p>
    
      <h3 id="payments">
        
        
          Payments <a href="#payments" class="header-anchor"></a>
        
        
      </h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ready</code> means that the payment has been created successfully, and is now ready
 for further transaction operations, like <code class="language-plaintext highlighter-rouge">authorization</code>, <code class="language-plaintext highlighter-rouge">sale</code> or <code class="language-plaintext highlighter-rouge">abort</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">failed</code> means that something went wrong during the payment process, and no
further transactions can be created if the payment is in this state. Examples
of possible failures are triggering of anti-fraud protection or if the payer
reaches the maximum number of attempts for a given payment.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">aborted</code> means that the merchant has aborted the payment before the end user
has fulfilled the payment process. This is done by calling the <code class="language-plaintext highlighter-rouge">PATCH</code> function
for abort operations.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">pending</code> is the state of a payment when a transaction is in an <code class="language-plaintext highlighter-rouge">initialized</code>
state. See more below. As long as a payment is <code class="language-plaintext highlighter-rouge">pending</code>, no further
transactions can be done.</p>
  </li>
</ul>
    
      <h3 id="transactions">
        
        
          Transactions <a href="#transactions" class="header-anchor"></a>
        
        
      </h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ìntialized</code> is the transaction state when something unexpected occured, and
it is impossible to determine the exact status of the transaction. An example of
this can be a network failure. No further actions can be done on a payment with a transaction in
this state.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">completed</code> means that the transaction has reached its intended purpose. An
<code class="language-plaintext highlighter-rouge">authorization</code> will be <code class="language-plaintext highlighter-rouge">completed</code> when the funds have been authorized, a
<code class="language-plaintext highlighter-rouge">capture</code> will be <code class="language-plaintext highlighter-rouge">completed</code> when the funds have been captured and a <code class="language-plaintext highlighter-rouge">reversal</code>
will be <code class="language-plaintext highlighter-rouge">completed</code> when the payer has been refunded.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">failed</code> means that the transaction has <code class="language-plaintext highlighter-rouge">failed</code>. The state is final for that
specific transaction, but given that the payment is operational, it is possible to perform more transactions on the same payment, i.e. retry the authorization
with another card. If the payer reaches the maximum amount of retries, the
payment itself will be set to <code class="language-plaintext highlighter-rouge">failed</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">awaitingActivity</code> is in use for a selection of payment instruments. A
transaction reaches this state when a payer is sent away from Swedbank Pay to do
a confirmation or verification. Examples of this can be payment apps like Swish,
Vipps or MobilePay, or 3-D Secure verifications for card payments.</p>
  </li>
</ul>
    
      <h2 id="create-payment">
        
        
          Create Payment <a href="#create-payment" class="header-anchor"></a>
        
        
      </h2>

<p>To create a Swish payment, you perform an HTTP <code class="language-plaintext highlighter-rouge">POST</code> against the
<code class="language-plaintext highlighter-rouge">/psp/swish/payments</code> resource.</p>

<p>An example of a payment creation request is provided below.
Each individual property of the JSON document is described in the following
section.
Use the [expand][technical-reference-expand] request parameter to get a
response that includes one or more expanded sub-resources inlined.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/psp/swish/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sale"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Swish"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sv-SE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https://example.net"</span><span class="p">],</span><span class="w">
            </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-callback"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/logo.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/terms.pdf"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ref-123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySubsite"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"prefillInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+46739000001"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"swish"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ecomOnlyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">payment</code>object.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">operation</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Purchase</code></td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">intent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Sale</code></td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">currency</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">SEK</code></td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">prices</code> object contains information about what is being bought in this payment.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Swish</code></td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">Amount is entered in the lowest momentary units of the selected currency. E.g.<code class="language-plaintext highlighter-rouge">10000</code>=<code class="language-plaintext highlighter-rouge">100.00 SEK</code> <code class="language-plaintext highlighter-rouge">5000</code>=<code class="language-plaintext highlighter-rouge">50.00 SEK</code></td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the amount given includes VAT, this may be displayed for the user in the payment page (redirect only). Set to 0 (zero) if this is not relevant.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(40)</code></td>
      <td style="text-align: left">A textual description max 40 characters of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payerReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The reference to the payer (consumer/end-user) from the merchant system, like mobile number, customer number etc.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The user agent reference of the consumer’s browser - [see user agent definition][user-agent]</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">nb-NO</code>, <code class="language-plaintext highlighter-rouge">sv-SE</code> or <code class="language-plaintext highlighter-rouge">en-US</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The URLS object contains information about what urls this payment should use.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">hostUrls</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of URIs valid for embedding of Swedbank Pay Hosted Views.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">completeUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will redirect back to when the payment page is completed. This does not indicate a successful payment, only that it has reached a completion state. A <code class="language-plaintext highlighter-rouge">GET</code> request needs to be performed on the payment to inspect it further.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">cancelUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will redirect back to when the user presses the cancel button in the payment page.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">callbackUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will perform an HTTP POST against every time a transaction is created on the payment. See <a href="#callback">callback</a> for details.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">logoUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that will be used for showing the customer logo. Must be a picture with at most 50px height and 400px width. Require https.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">termsOfServiceUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A URI that contains your terms and conditions for the payment, to be linked on the payment page. Require https.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeInfo</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">A object containing info about the payee.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeId</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">This is the unique id that identifies this payee (like merchant) set by PayEx.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(35)</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to ensure an exactly-once delivery of a transactional operation. See [payeeReference][technical-reference-payeeReference] for details.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeName</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The payee name (like merchant name) that will be displayed to consumer when redirected to PayEx.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">productCategory</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A product category or number sent in from the payee/merchant. This is not validated by PayEx, but will be passed through the payment process and may be used in the settlement process.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">orderReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">The order reference should reflect the order reference found in the merchant’s systems.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">subsite</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(40)</code></td>
      <td style="text-align: left">The subsite field can be used to perform split settlement on the payment. The subsites must be resolved with Swedbank Pay reconciliation before being used.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">prefillInfo.msisdn</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Number will be prefilled on payment page, if valid. The mobile number must have a country code prefix and be 8 to 15 digits in length.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">swish.ecomOnlyEnabled</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">boolean</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> if to only enable Swish on browser based transactions.; otherwise <code class="language-plaintext highlighter-rouge">false</code> to also enable Swish transactions via mobile app.</td>
    </tr>
  </tbody>
</table>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">992308</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-23T08:38:57.2248733Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Swish"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sale"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sv-SE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeinfo"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.externalintegration.payex.com/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/sales"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create-sale"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="mobile-number-validation">
        
        
          Mobile Number Validation <a href="#mobile-number-validation" class="header-anchor"></a>
        
        
      </h3>
    
      <h4 id="ecommerce">
        
        
          eCommerce <a href="#ecommerce" class="header-anchor"></a>
        
        
      </h4>

<p>All international mobile numbers are supported. To be valid, the number input
must be with a country code prefix and consist of 8 to 15 characters. Digits are
the only characters allowed, and the regex used is <code class="language-plaintext highlighter-rouge">\\+[1-9]\\d{7,14}</code>. A valid
Swedish mobile number would be <code class="language-plaintext highlighter-rouge">+46739000001</code>, a valid Norwegian mobile number
would be <code class="language-plaintext highlighter-rouge">+4792345678</code>.</p>
    
      <h4 id="mcommerce">
        
        
          mCommerce <a href="#mcommerce" class="header-anchor"></a>
        
        
      </h4>

<p>No number input is needed in the mCommerce flow. The payer’s mobile number must
be connected to a Swish account.</p>
    
      <h2 id="settlement-and-reconciliation">
        
        
          Settlement and Reconciliation <a href="#settlement-and-reconciliation" class="header-anchor"></a>
        
        
      </h2>

<div class="jumbotron">
    <p>Reconciliation is an important step in an
economic transaction. When a payment is reconciled,  captured amounts for the
payment are matched against the corresponding settlement.</p>

</div>

<p>The information needed to reconcile captured funds - the balance report and
transactions list - are available for all merchants using Swedbank Pay. By default you
receive these files by e-mail, but it is also possible to get them via FTP
access. Contact <a href="mailto:omni.client@swedbankpay.se">omni.client@swedbankpay.se</a> for further
inquiries regarding this. The settlement frequency is defined in the agreement
and you will receive a report for each payout and/or invoice.</p>
    
      <h3 id="settlement">
        
        
          Settlement <a href="#settlement" class="header-anchor"></a>
        
        
      </h3>

<p>There are two main alternatives for settlement - either we handle the settlement
process for you, or you handle the process yourself :</p>
    
      <h4 id="swedbank-pay-handles-the-settlement-process">
        
        
          Swedbank Pay handles the settlement process <a href="#swedbank-pay-handles-the-settlement-process" class="header-anchor"></a>
        
        
      </h4>

<p>Swedbank Pay handles the settlement process on your behalf, (<em>called
“Redovisningsservice”</em>). Swedbank Pay transfers the net amount to you directly.</p>
    
      <h5 id="swedbank-pay-checkout">
        
        
          Swedbank Pay Checkout <a href="#swedbank-pay-checkout" class="header-anchor"></a>
        
        
      </h5>

<p>When choosing <a href="/checkout">Swedbank Pay Checkout</a> we always handle the
settlement process for you, gathering all your eCommerce payments in one place.
Straighforward and time efficient.</p>
    
      <h4 id="you-handle-the-settlement-process-yourself">
        
        
          You handle the settlement process yourself <a href="#you-handle-the-settlement-process-yourself" class="header-anchor"></a>
        
        
      </h4>

<p>If you will handle the settlement yourself, then Swedbank Pay will send you an
invoice with the relevant fees, in addition to the report and transactions
lists. Your acquirer will transfer settled funds to you.</p>
    
      <h4 id="balance-report">
        
        
          Balance Report <a href="#balance-report" class="header-anchor"></a>
        
        
      </h4>

<p>The Balance Report (a <em>.pdf file</em>) specifies the total sales for a specific
period, including fees and VAT. The report contains three parts: a payment
summary and specifications for sales and for fees.</p>
    
      <h5 id="payment-summary">
        
        
          Payment Summary <a href="#payment-summary" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a summary of the <code class="language-plaintext highlighter-rouge">Amount</code> sold, <code class="language-plaintext highlighter-rouge">Fees</code> and <code class="language-plaintext highlighter-rouge">VAT</code>. <strong>If Swedbank Pay
handles the settlement process</strong>, the <code class="language-plaintext highlighter-rouge">Transfered</code><code class="language-plaintext highlighter-rouge">amount</code> - shown in the
balance report summary is equivalent to the disbursement on the bank statement
(the remaining total amount after fees).</p>
    
      <h5 id="sales-specification">
        
        
          Sales specification <a href="#sales-specification" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a specification over sales for the given period. The sales total is
specified per payment area (<code class="language-plaintext highlighter-rouge">CreditCard</code>, <code class="language-plaintext highlighter-rouge">Invoice</code>) and
underlying payment instruments. Each sales row specify Quantity, Sum sales and
Amount to pay out, the last one is only eligble <strong>if Swedbank Pay handles the
Settlement process</strong>.</p>
    
      <h5 id="fees-specification">
        
        
          Fees specification <a href="#fees-specification" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a specification over fees for the given period. The fees total is
specified per payment area (<code class="language-plaintext highlighter-rouge">CreditCard</code>, <code class="language-plaintext highlighter-rouge">Invoice</code>) and
underlying payment instruments. Each fees row specify <code class="language-plaintext highlighter-rouge">Quantity</code> (sales),
<code class="language-plaintext highlighter-rouge">Amount</code> (sales), <code class="language-plaintext highlighter-rouge">Unit price</code>, <code class="language-plaintext highlighter-rouge">Provision</code> and <code class="language-plaintext highlighter-rouge">fee Amount</code>. <strong>If you handle
the settlement process yourselves you will receive a separat invoice for fees</strong>.</p>
    
      <h4 id="transactions-list">
        
        
          Transactions List <a href="#transactions-list" class="header-anchor"></a>
        
        
      </h4>

<p>The Transaction List (provided in <code class="language-plaintext highlighter-rouge">.xlsx</code> and <code class="language-plaintext highlighter-rouge">.xml</code> formats) specifies all
transactions for a specific period, including a summary of transactions grouped
by payment instrument. Both formats contain the same information, but the xml
file is meant for computer processing while the excel workbook is meant for
human interaction.</p>

<p>The first row contains the name of the Swedbank Pay company (e.g. Swedbank Pay
Solutions AB) that the merchant has the contract with, and the balance report
number. The header fields contain a summary of the transactions displayed in the
body.</p>

<p class="code-header"><strong>Header fields</strong></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Prefix</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">Prefix</code> used for transactions, only eligible if merchant uses prefix.</td>
    </tr>
    <tr>
      <td style="text-align: left">Currency</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 4217</code></td>
      <td style="text-align: left">Settlement currency (e.g. <code class="language-plaintext highlighter-rouge">SEK, NOK, EUR</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ServiceType</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The service type of the service used (e.g. <code class="language-plaintext highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Service</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The service used (e.g. <code class="language-plaintext highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">NoOfDebet</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total number of debit transactions for the given service.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">NoOfCredit</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total number of credit transactions for the given service.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total amount for the given service (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">FromDate</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">The earlistest transaction date, <code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ToDate</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">The latest transaction date, <code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code>.</td>
    </tr>
  </tbody>
</table>

<p class="code-header"><strong>Body fields</strong></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Swedbank Pay Batch Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">A batch number common to all types of transactions processed by PayEx.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Transaction Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">A unique identifier of the transaction, can be traced in Swedbank Pay Admin user interface.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Order id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">A unique identifier of the order, as sent from the merchant to PayEx. Transactions that are related to the same order are associated with this ID.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Date Created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">Transaction capture date/time. YYYY-MM-DD hh:mm:ss.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Date Modified</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">Transaction settle date/time. YYYY-MM-DD hh:mm:ss.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Provider</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The service provider (e.g. Babs, Swedbank).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The service type of the related transaction (e.g. <code class="language-plaintext highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total amount of the related transaction (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Currency</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 4217</code></td>
      <td style="text-align: left">Settlement currency (e.g. <code class="language-plaintext highlighter-rouge">SEK, NOK, EUR</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Product Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">A product number, as sent by merchant to PayEx.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">A textual description of the transaction, as sent by merchant to PayEx.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">VAT Amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">VAT Amount for the given transaction (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">VAT Percentage</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">VAT Percentage for the given transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Credit Card Batch Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The reference number from the credit card processor.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Reference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The transaction reference from processor.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Swedbank Pay Account Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The Account number given, shown in Swedbank Pay admin.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Referenced Transaction Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Transaction number for the Authoriation transaction for a two-stage transaction or the number of the debit transaction if it is a credit transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Sales Channel</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The channel through which the transaction was sent to Swedbank Pay (e.g Transaction via eCommerce APIs).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Brand</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">If eligible, Branding information as sent by merchant to PayEx.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Point Of Sale</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">If eligible, POS information as sent by merchant to PayEx.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="reconciliation">
        
        
          Reconciliation <a href="#reconciliation" class="header-anchor"></a>
        
        
      </h3>

<p>To do the reconciliation, you need to match the information in your system
against the information provided by Swedbank Pay in the balance report and
transaction list. Below is a sequence diagram detailing the interaction.</p>

<pre><code class="language-mermaid">sequenceDiagram
    participant SwedbankPay as Swedbank Pay

    activate Merchant
    activate SwedbankPay
    Merchant--&gt;&gt;SwedbankPay: Online payment transactions
    deactivate Merchant

    deactivate SwedbankPay

    activate Merchant

    SwedbankPay-&gt;&gt;Merchant: Balance Report (PDF-file)
    note left of Merchant: files are sent by e-mail or file transfer
    SwedbankPay-&gt;&gt;Merchant: Transaction list (XLSX-file)
    SwedbankPay-&gt;&gt;Merchant: Transaction list (XML-file)
    deactivate Merchant
</code></pre>

<p><strong>There are two ways</strong> for you to match the information from your system with
the information given in the reconciliation files from Swedbank Pay:</p>

<ol>
  <li>You can use information <strong>generated by your</strong> system (you will have to set a
unique payeeReference when you make the transaction), or</li>
  <li>You can use the transaction number <strong>generated by Swedbank Pay</strong> (this is called
transaction number and is returned from Swedbank Pay after you have created
the transaction).</li>
</ol>

<p>A credit card transaction is made when you either make a capture or a reversal.
In the input data for making a capture, you will set the <code class="language-plaintext highlighter-rouge">payeeReference</code>. The
unique value of this field is the same as the field called <code class="language-plaintext highlighter-rouge">OrderID</code> in the
reconciliation file.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">transaction</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">vatAmount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test Reversal</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">payeeReference</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ABC123</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When you receive the response from Swedbank Pay, the response will include
<code class="language-plaintext highlighter-rouge">transaction.number</code>. This is the same as the field called <code class="language-plaintext highlighter-rouge">TransactionNo</code> in
the reconciliation file.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">payment</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">capture</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures/ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">transaction</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2016-09-14T01:01:01.01Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2016-09-14T01:01:01.03Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Capture</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">state</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Initialized</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1234567890</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">vatAmount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test Capture</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">payeeReference</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ABC123</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">failedReason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">isOperational</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">operations</span><span class="dl">"</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">payeeReference</code> sent to Swedbank Pay is equal to <code class="language-plaintext highlighter-rouge">OrderId</code> in the
reconciliation file.</li>
  <li><code class="language-plaintext highlighter-rouge">capture.transaction.number</code> returned from Swedbank Pay is equal to
<code class="language-plaintext highlighter-rouge">TransactionNo</code> in reconciliation file.</li>
</ul>
    
      <h3 id="samples">
        
        
          Samples <a href="#samples" class="header-anchor"></a>
        
        
      </h3>

<p>The content of the files depends on the type of agreement you have made with
Swedbank Pay. For some payment instruments, only option A is available, while for other
payment instruments, only option B is available. The sample files can be
downloaded below.</p>
    
      <h4 id="option-a-swedbank-pay-handles-the-settlement-process">
        
        
          Option A: Swedbank Pay handles the settlement process <a href="#option-a-swedbank-pay-handles-the-settlement-process" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li><strong><a href="/assets/documents/testredovisning-payexcheckout.pdf">PDF Balance Report for Swedbank Pay Checkout</a></strong></li>
  <li><a href="assets/documents/r1234-0001-redov.service.pdf">PDF Balance Report</a></li>
  <li><a href="/assets/documents/transaktionsstatistik-redovisningsservice.xlsx">XLSX Transaction List</a></li>
  <li><a href="/assets/documents/transaktionsstatistik-redovisningsservice.xml">XML Transaction List</a></li>
</ul>
    
      <h4 id="option-b-you-will-handle-the-settlement-process-yourself">
        
        
          Option B: You will handle the settlement process yourself <a href="#option-b-you-will-handle-the-settlement-process-yourself" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li><a href="assets/documents/r1234-0001-eget-konto.pdf">PDF Balance Report</a></li>
  <li><a href="assets/documents/r1234-0001-eget-konto.pdf">XLSX Transaction List</a></li>
  <li><a href="assets/documents/testredovisning-eget-konto.xlsx">XML Transaction List</a></li>
</ul>
    
      <h3 id="split-settlement">
        
        
          Split Settlement <a href="#split-settlement" class="header-anchor"></a>
        
        
      </h3>

<p>The prefix split is the easy way of doing settlements for companies with
multiple sub merchants. With only a few easy steps, you can make the settlement
process more efficient with regards to invoicing, payouts and setup for both
your sub merchants and yourself.</p>

<p>In short, it is a settlement feature where a company with a website or an app
can attach specific prefix numbers to sub merchants selling their goods or
services through the company. The prefix number is used to match the
transactions and the merchant, so the settlement is automatically split between
the sub merchants. If you run a site selling tickets to concerts, theatres,
sporting events etc., each venue gets its own prefix number. If you run a
funeral home, the sub merchants can be everything from flower delivery to
charities.</p>
    
      <h4 id="what-we-need-from-you-as-a-company">
        
        
          What we need from you as a company <a href="#what-we-need-from-you-as-a-company" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>Send us a KYC form for each sub merchant you want to include. We will also do
a KYC check on your sub merchants, providing extra security for you.</li>
  <li>Give every sub merchant who sells goods/services at your website or in your
app a unique prefix number. This needs to be included in the KYC form you send
to us. We recommend using the same customer number they have in your system.</li>
  <li>Attach the prefix number to all the goods/services the sub merchant
sells through your website or app, so the goods/services can be matched to the
correct merchant in our back office system.</li>
  <li>A partner agreement is needed for the automatic deduction of revenue cuts and
fees.</li>
</ul>
    
      <h4 id="how-it-works">
        
        
          How it works <a href="#how-it-works" class="header-anchor"></a>
        
        
      </h4>

<ol>
  <li>We set up the sub merchant prefix in our systems.</li>
  <li>The prefix number is added in the subsite field in the API call when you
create the payment for the goods or service.</li>
  <li>The customer selects payment instrument and completes the payment.</li>
  <li>The payment goes into the client funds account.</li>
  <li>Swedbank Pay matches the transaction and the merchant using the prefix
number.</li>
  <li>The settlement is split and connected to the correct merchant.</li>
  <li>Revenue cuts for the super merchant and fees from Swedbank Pay are deducted
automatically.</li>
  <li>Payout to the sub merchant is done.</li>
</ol>
    
      <h4 id="the-upsides">
        
        
          The upsides <a href="#the-upsides" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>Since the sub merchants are connected to Swedbank Pay through the super
merchant instead of having separate setups, this means that you:</li>
  <li>Only need one agreement for credit card, Vipps, Swish,
MobilePay, invoice and payment gateway.</li>
  <li>Only need one acquiring agreement.</li>
  <li>Only need one Vipps/Swish certificate.</li>
  <li>Can add more payment instruments easily, as it only has to be done once.</li>
  <li>Can set up new sub merchants quickly, as the only thing needed is a KYC
form and a prefix number. This shortens the setup time for both you and us
to a matter of hours.</li>
  <li>The automatic settlement split and deduction of fees and revenue cuts
minimizes the work for your accounting department, as you do not have to
invoice your sub merchants.</li>
  <li>The prefix split is available with all the payment instruments we offer on our
eCom platform.</li>
</ul>
    
      <h4 id="good-to-know">
        
        
          Good to know <a href="#good-to-know" class="header-anchor"></a>
        
        
      </h4>

<p>With regards to admin functions, we offer a full integration towards our admin
system. This way, you do not have to log in to Swedbank Pay Admin to perform
these operations.</p>
    
      <h5 id="captures-and-cancels">
        
        
          Captures and cancels <a href="#captures-and-cancels" class="header-anchor"></a>
        
        
      </h5>

<p>Captures and cancels are done by the super merchant the same way as any other
normal flow.</p>
    
      <h5 id="reversals">
        
        
          Reversals <a href="#reversals" class="header-anchor"></a>
        
        
      </h5>

<p>In cases where you need to do reversals, this will be performed by the super
merchant. The reversal amount will be charged from the sub merchants prefix. If
the sub merchants balance is 0 (zero), the super merchant will be invoiced. The
super merchant will in turn have to invoice this amount to the sub merchant.</p>
    
      <h2 id="payment-link">
        
        
          Payment Link <a href="#payment-link" class="header-anchor"></a>
        
        
      </h2>

<div class="jumbotron">
    <p>The implementation sequence for this scenario
is a variant of the purchase sequence. The consumer is not redirected to the
Payments directly but will instead receive a payment link via mail/SMS.
When the consumer clicks on the link, a payment window opens.</p>

</div>
    
      <h3 id="introduction">
        
        
          Introduction <a href="#introduction" class="header-anchor"></a>
        
        
      </h3>

<p>The Payment Link can be implemented for payment instruments listed below, using the
Redirect platform and Swedbank Pay hosted payment page.</p>

<ul>
  <li><a href="/payments/card/">Credit card</a></li>
  <li><a href="/payments/mobile-pay/">MobilePay</a></li>
  <li><a href="/payments/swish">Swish</a></li>
  <li><a href="/payments/vipps">Vipps</a></li>
</ul>

<p>When the consumer/end-user starts the purchase process in your merchant or
webshop site, you need to make a <code class="language-plaintext highlighter-rouge">POST</code> request towards Swedbank Pay with your
<em>Purchase</em> information. You receive a Payment Link (same as redirect URL) in
response.</p>

<p>You have to distribute the Payment Link to the consumer through your order
system, using channels like e-mail or SMS.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>When sending information
in e-mail/SMS, it is strongly recommended that you add information about your
terms and conditions, including purchase information and price. <strong>See
recommendations in the next section.</strong></p>
        
    
</div>

<p>When the consumer clicks on the Payment Link, the Swedbank Pay payment page will
open, letting the consumer enter the payment details (varying depending on
payment instrument) in a secure Swedbank Pay hosted environment.</p>

<p>When paying with credit card and if required, Swedbank Pay will handle 3-D
Secure authentication.</p>

<p>After completion, Swedbank Pay will redirect the browser back to your
merchant/webshop site.</p>

<p>If <a href="#callback"><code class="language-plaintext highlighter-rouge">callbackURL</code></a> is set the merchant system
will receive a callback from Swedbank Pay, enabling you to make a <code class="language-plaintext highlighter-rouge">GET</code> request
towards Swedbank Pay with the <code class="language-plaintext highlighter-rouge">id</code> of the payment received in the first step,
which will return the purchase result.</p>
    
      <h3 id="e-mail-and-sms-recommendations">
        
        
          E-mail And SMS Recommendations <a href="#e-mail-and-sms-recommendations" class="header-anchor"></a>
        
        
      </h3>

<p>When you as a merchant sends an e-mail or SMS to the consumer about the
Payment Link, it is recommended to include contextual information that help
the consumer understand what will happen when clicking on the Payment Link.
We recommend that you include following information:</p>

<ul>
  <li>The name of the merchant/shop that initiates the payment</li>
  <li>An understandable product description, describing what kind of service the
consumer will pay for.</li>
  <li>Some order-id (or similar) that exists in the merchant order system.</li>
  <li>The price and currency.</li>
  <li>Details about shipping method and expected delivery (if physical goods will be
sent  to the consumer).</li>
  <li>Directions to (a link to a page) the merchant’s terms and conditions (such as
return policy) and information of how the consumer can contact the merchant.</li>
  <li>Details informing the consumer that he or she accepts the Terms &amp; Conditions
when clicking on the Payment Link.</li>
</ul>
    
      <h3 id="receipt-recommendations">
        
        
          Receipt Recommendations <a href="#receipt-recommendations" class="header-anchor"></a>
        
        
      </h3>

<p>We recommend that you send an e-mail or SMS confirmation with a receipt to
the consumer when the payment has been fulfilled.</p>
    
      <h3 id="api-requests">
        
        
          API Requests <a href="#api-requests" class="header-anchor"></a>
        
        
      </h3>

<p>The API requests depend on the payment instrument you are using when
implementing the Payment Link scenario, see <a href="../#purchase-flow">purchase flow</a>.
One-phase payment instruments will not implement <code class="language-plaintext highlighter-rouge">capture</code>, <code class="language-plaintext highlighter-rouge">cancellation</code> or
<code class="language-plaintext highlighter-rouge">reversal</code>.
The options you can choose from when creating a payment with key <code class="language-plaintext highlighter-rouge">operation</code>
set to <code class="language-plaintext highlighter-rouge">Purchase</code> are listed below.</p>
    
      <h3 id="screenshots">
        
        
          Screenshots <a href="#screenshots" class="header-anchor"></a>
        
        
      </h3>

<p>When clicking the payment link, the consumer will be directed to a payment
page, similar to the examples below, where payment information can be entered.</p>

<p><img src="/assets/img/payments/card-payment.png" alt="screenshot of the redirect card payment page" height="500px" width="425px" /></p>
    
      <h3 id="options">
        
        
          Options <a href="#options" class="header-anchor"></a>
        
        
      </h3>

<p>All valid options when posting in a payment with operation <code class="language-plaintext highlighter-rouge">Purchase</code>,
are described in each payment instrument’s respective API reference.
Please see the general sequence diagrams for more information about payments
in one-phase (e.g. <a href="/payments/swish">Swish</a> and credit card with autocapture) and
two-phase (e.g. <a href="/payments/card">Credit card</a>, <a href="/payments/mobile-pay">MobilePay</a>,
<a href="/payments/vipps">Vipps</a>).</p>
    
      <h4 id="authorization">
        
        
          Authorization <a href="#authorization" class="header-anchor"></a>
        
        
      </h4>

<p>When using two-phase flows you reserve the amount with an authorization, you
will have to specify that the <em>intent</em> of the <em>purchase</em> is <code class="language-plaintext highlighter-rouge">Authorize</code>. The
amount will be reserved but not charged. You will later (i.e. when you are ready
to ship the purchased products) have to make a <code class="language-plaintext highlighter-rouge">Capture</code> or <code class="language-plaintext highlighter-rouge">Cancel</code> request.</p>
    
      <h4 id="capture">
        
        
          Capture <a href="#capture" class="header-anchor"></a>
        
        
      </h4>

<p>Capture can only be performed on a payment with a successfully authorized
transaction. It is possible to do a part-capture where you only capture a
smaller amount than the authorized amount. You can later do more captures on the
same payment up to the total authorization amount.</p>

<p>If you want the credit card to be charged right away, you will have to specify
that the <em>intent</em> of the purchase is <code class="language-plaintext highlighter-rouge">AutoCapture</code>. The credit card will be
charged and you don’t need to do any more financial operations to this purchase.</p>
    
      <h4 id="cancel">
        
        
          Cancel <a href="#cancel" class="header-anchor"></a>
        
        
      </h4>

<p>Cancel can only be done on a authorized transaction. If you do cancel after
doing a part-capture you will cancel the difference between the captured amount
and the authorized amount.</p>
    
      <h4 id="reversal">
        
        
          Reversal <a href="#reversal" class="header-anchor"></a>
        
        
      </h4>

<p>Reversal can only be done on a payment where there are some captured amount not
yet reversed.</p>
    
      <h4 id="general">
        
        
          General <a href="#general" class="header-anchor"></a>
        
        
      </h4>

<p>When implementing the Payment Link scenario, it is optional to set a
<a href="#callback"><code class="language-plaintext highlighter-rouge">callbackURL</code></a> in the <code class="language-plaintext highlighter-rouge">POST</code> request. If
callbackURL is set Swedbank Pay will send a request to this URL when the
consumer as fulfilled the payment. <a href="#callback">See the Callback API description
here</a>.</p>
    
      <h3 id="purchase-flow">
        
        
          Purchase flow <a href="#purchase-flow" class="header-anchor"></a>
        
        
      </h3>

<p>The sequence diagrams display the high level process of the purchase, from
generating a Payment Link to receiving a Callback.</p>

<p>This in a generalized flow as
well as a specific 3-D Secure enabled credit card scenario.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Please note that the the callback may come either before, after or in the
same moment as the consumer are being redirected to the status page at the
merchant site when the purchase is fulfilled. Don’t rely on the callback being
timed at any specific moment.</p>
        
    
</div>

<p>When dealing with credit card payments, 3-D Secure authentication of the
cardholder is an essential topic.
There are three alternative outcome of a credit card payment:</p>

<ul>
  <li>3-D Secure enabled - by default, 3-D Secure should be enabled,
and Swedbank Pay will check if the card is enrolled with 3-D Secure.
This depends on the issuer of the card.
If the card is not enrolled with 3-D Secure,
no authentication of the cardholder is done.</li>
  <li>Card supports 3-D Secure - if the card is enrolled with 3-D Secure,
Swedbank Pay will redirect the cardholder to the autentication mechanism
that is decided by the issuing bank.
Normally this will be done using BankID or Mobile BankID.</li>
</ul>

<pre><code class="language-mermaid">sequenceDiagram
    activate Consumer
    Consumer-&gt;&gt;-MerchantOrderSystem: consumer starts purchase
    activate MerchantOrderSystem
    MerchantOrderSystem-&gt;&gt;-Merchant: start purchase process
    activate Merchant
    Merchant-&gt;&gt;-SwedbankPay: POST [payment] (operation=PURCHASE)
    activate SwedbankPay
    note left of Merchant: First API request
    SwedbankPay--&gt;&gt;-Merchant: payment resource with payment URL
    activate Merchant
    Merchant--&gt;&gt;-MerchantOrderSystem: Payment URL sent to order system
    activate MerchantOrderSystem
    MerchantOrderSystem--&gt;&gt;-Consumer: Distribute Payment URL through e-mail/SMS
    activate Consumer
    note left of Consumer: Payment Link in e-mail/SMS
    Consumer-&gt;&gt;-SwedbankPay: Open link and enter payment information
    activate SwedbankPay

    
        opt Card supports 3-D Secure
        SwedbankPay--&gt;&gt;-Consumer: redirect to IssuingBank
        activate Consumer
        Consumer-&gt;&gt;IssuingBank: 3-D Secure authentication process
        Consumer-&gt;&gt;-SwedbankPay: access authentication page
        activate SwedbankPay
        end
    

    SwedbankPay--&gt;&gt;-Consumer: redirect to merchant site
    activate Consumer
    note left of SwedbankPay: redirect back to merchant
    Consumer-&gt;&gt;-Merchant: access merchant page
    activate Merchant
    Merchant-&gt;&gt;-SwedbankPay: GET [payment]
    activate SwedbankPay
    note left of Merchant: Second API request
    SwedbankPay--&gt;&gt;-Merchant: payment resource
    activate Merchant
    Merchant--&gt;&gt;-Consumer: display purchase result
</code></pre>
    
      <h4 id="options-after-posting-a-payment">
        
        
          Options after posting a payment <a href="#options-after-posting-a-payment" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>If the payment enable a two-phase flow (<code class="language-plaintext highlighter-rouge">Authorize</code>),
you will need to implement the <code class="language-plaintext highlighter-rouge">Capture</code> and <code class="language-plaintext highlighter-rouge">Cancel</code> requests.</li>
  <li>It is possible to “abort” the validity of the Payment Link.
<a href="#abort">See the Abort description here</a>.</li>
  <li>For reversals, you will need to implement the <code class="language-plaintext highlighter-rouge">Reversal</code> request.</li>
  <li>When implementing the Payment Link scenario, it is optional to set a
<code class="language-plaintext highlighter-rouge">callbackURL</code> in the <code class="language-plaintext highlighter-rouge">POST</code> request.
If <code class="language-plaintext highlighter-rouge">callbackURL</code> is set Swedbank Pay will send a postback request to this
URL when the consumer as fulfilled the payment.
<a href="#callback">See the Callback API description here</a>.</li>
</ul>
    
      <h2 id="prices">
        
        
          Prices <a href="#prices" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-plaintext highlighter-rouge">prices</code> resource lists the prices related to a specific payment.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2350</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MasterCard"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2350</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the  <code class="language-plaintext highlighter-rouge">payment</code>  the prices resource belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">prices</code>  resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current  <code class="language-plaintext highlighter-rouge">prices</code>  resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">priceList</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of price objects. <strong>Note:</strong> Even if you specifiy  <code class="language-plaintext highlighter-rouge">CreditCard</code>  in the input message the system will return all your configured card brands instead when you expan the priceList.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The type of the price object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">Amount is entered in the lowest momentary units of the selected currency. E.g. 10000 = 100.00 NOK, 5000 = 50.00 SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the amount given includes VAT, this may be displayed for the user in the payment page (redirect only). Set to 0 (zero) if this is not relevant.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="prices-object-types">
        
        
          Prices Object Types <a href="#prices-object-types" class="header-anchor"></a>
        
        
      </h3>

<p>Each payment instrument have one or more prices object types. This is most
relevant when using card based payments as each type correspond
to a card brand or bank respectively.</p>
    
      <h4 id="swish-payments">
        
        
          Swish Payments <a href="#swish-payments" class="header-anchor"></a>
        
        
      </h4>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Swish</code></td>
      <td style="text-align: left">Always Swish</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="payeeinfo">
        
        
          PayeeInfo <a href="#payeeinfo" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-plaintext highlighter-rouge">payeeinfo</code> resource contains information about the payee (i.e. a merchant,
a corporation etc) related to a specific payment.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/paymentorder/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorder/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorder/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EN1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestMerchant1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EF1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-123456"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI of the payment which the  <code class="language-plaintext highlighter-rouge">payeeinfo</code>  belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI of the current  <code class="language-plaintext highlighter-rouge">payeeinfo</code>  resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeId</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">This is the unique id that identifies this payee (like merchant) set by Swedbank Pay</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">A unique reference set by the merchant system. See below for details</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeName</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The payee name (like merchant name) that will be displayed to consumer when redirected to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">productCategory</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A product category or number sent in from the payee/merchant. This is not validated by Swedbank Pay, but will be passed through the payment process and may be used in the settlement process. You therefore need to ensure that the value given here is valid in the settlement.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">orderReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">The order reference should reflect the order reference found in the merchant’s systems.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="payeereference">
        
        
          PayeeReference <a href="#payeereference" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-plaintext highlighter-rouge">payeeReference</code> given when creating transactions and payments has some
specific processing rules depending on specifications in the contract.</p>

<ul>
  <li>It must be <strong>unique</strong> for every operation, used to ensure exactly-once
delivery of a transactional operation from the merchant system.</li>
  <li>Its length and content validation is dependent on whether the
<code class="language-plaintext highlighter-rouge">transaction.number</code> or the <code class="language-plaintext highlighter-rouge">payeeReference</code> is sent to the acquirer.
    <ol>
      <li>If you select <em>Option A</em> in the settlement process (Swedbank Pay will
handle the settlement), Swedbank Pay will send the <code class="language-plaintext highlighter-rouge">transaction.number</code> to
the acquirer and the <code class="language-plaintext highlighter-rouge">payeeReference</code> may have the format of <code class="language-plaintext highlighter-rouge">string(30)</code>.</li>
      <li>If you select <em>Option B</em> in the settlement process (you will handle the
settlement yourself), Swedbank Pay will send the <code class="language-plaintext highlighter-rouge">payeeReference</code> to the
acquirer and it will be limited to the format of <code class="language-plaintext highlighter-rouge">string(12)</code> and all
characters <strong>must be digits</strong>.</li>
    </ol>
  </li>
</ul>
    
      <h3 id="expansion">
        
        
          Expansion <a href="#expansion" class="header-anchor"></a>
        
        
      </h3>

<p>The payment resource contain the ID of related sub-resources in its response
properties. These sub-resources can be expanded inline by using the request
parameter <code class="language-plaintext highlighter-rouge">expand</code>. This is an effective way to limit the number of necessary
calls to the API, as you return several properties related to a Payment resource
in a single request.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Note that the <code class="language-plaintext highlighter-rouge">expand</code> parameter is available to all API requests but only
applies to the request response. This means that you can use the expand
parameter on a <code class="language-plaintext highlighter-rouge">POST</code>  or <code class="language-plaintext highlighter-rouge">PATCH</code>request to get a response containing the target
resource including expanded properties.</p>
        
    
</div>

<p>This example below add the <code class="language-plaintext highlighter-rouge">urls</code> and <code class="language-plaintext highlighter-rouge">authorizations</code> property inlines to the
response, enabling you to access information from these sub-resources.</p>

<p class="code-header"><strong>Expansion</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1?$expand=urls,authorizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
</code></pre></div></div>

<p>To avoid unnecessary overhead, you should only expand the nodes you need info
about.</p>
    
      <h2 id="transactions-1">
        
        
          Transactions <a href="#transactions-1" class="header-anchor"></a>
        
        
      </h2>

<p>A payment contains sub-resources in the form of <code class="language-plaintext highlighter-rouge">transactions</code>. Most operations
performed on a payment ends up as a transaction. The different types of
operations that alter the state of the payment by creating a transaction is
described below.</p>

<p>The <code class="language-plaintext highlighter-rouge">transactions</code> resource will list the transactions (one or more) on a
specific payment.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactionList"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sale"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initialized"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PR1004"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failedReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the payment this list of transactions belong to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">transactions</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transactions object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current <code class="language-plaintext highlighter-rouge">transactions</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">transactionList</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of transaction objects.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">transactionList[]</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object (described in the <code class="language-plaintext highlighter-rouge">transaction</code> resource below).</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="transaction">
        
        
          Transaction <a href="#transaction" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-plaintext highlighter-rouge">transaction</code> resource contains the generic details of a transaction on a
specific payment.</p>

<p>When a transaction is created it will have one of three states:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Initialized</code> - if there is some error where the source is undeterminable
(network failure, etc), the transaction will remain Initialized. The
corresponding state of the payment order will in this case be set to pending.
No further transactions can be created.</li>
  <li><code class="language-plaintext highlighter-rouge">Completed</code> - if everything went ok the transaction will follow through to
completion.</li>
  <li><code class="language-plaintext highlighter-rouge">Failed</code> - if the transaction has failed (i.e. a denial from the acquiring
bank) it is possible to retry (i.e the consumer tries using another credit
card) up to a maximum amount of retries (in that case which the payment order
gets the state <code class="language-plaintext highlighter-rouge">failed</code> as well).</li>
</ul>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initialized"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AH123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"failedReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the payment this transaction belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current <code class="language-plaintext highlighter-rouge">transaction</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the transaction type.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Initialized</code>, <code class="language-plaintext highlighter-rouge">Completed</code> or <code class="language-plaintext highlighter-rouge">Failed</code>. Indicates the state of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-plaintext highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, for that <code class="language-plaintext highlighter-rouge">id</code> should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">Amount is entered in the lowest momentary units of the selected currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> = 100.00 NOK, <code class="language-plaintext highlighter-rouge">5000</code> = 50.00 SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the amount given includes VAT, this may be displayed for the user in the payment page (redirect only). Set to 0 (zero) if this is not relevant.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A human readable description of maximum 40 characters of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference for the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">failedReason</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable explanation of why the payment failed.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">isOperational</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> if the transaction is operational; otherwise <code class="language-plaintext highlighter-rouge">false</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">operations</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of operations that are possible to perform on the transaction in its current state.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="callback">
        
        
          Callback <a href="#callback" class="header-anchor"></a>
        
        
      </h2>

<p>When a change or update from the back-end system are made on a payment or
transaction, Swedbank Pay will perform a callback to inform the payee (merchant)
about this update.</p>

<ul>
  <li>Setting a <code class="language-plaintext highlighter-rouge">callbackUrl</code> in the HTTP <code class="language-plaintext highlighter-rouge">POST</code> API is optional, but highly
recommended. If a payer closes the browser window, a network error or
something else happens that prevents the payer from being redirect from
Swedbank Pay back to the merchant website, the callback is what ensures that
you receive information about what happened with the payment.</li>
  <li>When a change or update from the back-end system are made on a payment or
transaction, Swedbank Pay will perform an asynchronous server-to-server
callback to inform the payee (merchant) about this update.</li>
  <li>Swedbank Pay will make an HTTP <code class="language-plaintext highlighter-rouge">POST</code> to the <code class="language-plaintext highlighter-rouge">callbackUrl</code> that was specified
when the payee (merchant) created the payment.</li>
  <li>When the <code class="language-plaintext highlighter-rouge">callbackUrl</code> receives such a callback, an <code class="language-plaintext highlighter-rouge">HTTP</code> <code class="language-plaintext highlighter-rouge">GET</code> request must
be made on the payment or on the transaction. The retrieved payment or
transaction resource will give you the necessary information about the recent
change/update.</li>
  <li>The callback will be retried if it fails. Below are the retry timings, in
seconds from the initial transaction time:
    <ul>
      <li>30 seconds</li>
      <li>60 seconds</li>
      <li>360 seconds</li>
      <li>432 seconds</li>
      <li>864 seconds</li>
      <li>1265 seconds</li>
    </ul>
  </li>
  <li>The callback is sent from the following IP address: <code class="language-plaintext highlighter-rouge">82.115.146.1</code></li>
  <li>A callback should return a <code class="language-plaintext highlighter-rouge">200 OK</code> response.</li>
</ul>

<p class="code-header"><strong>Payment Instrument Callback</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">payment</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">222222222</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">transaction</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/swish/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/&lt;transaction type&gt;/ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">333333333</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">&lt;transaction type&gt;</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">authorizations</code>, <code class="language-plaintext highlighter-rouge">captures</code>, <code class="language-plaintext highlighter-rouge">cancellations</code>, <code class="language-plaintext highlighter-rouge">reversals</code></td>
    </tr>
  </tbody>
</table>

<p>The sequence diagram below shows the HTTP <code class="language-plaintext highlighter-rouge">POST</code> you will receive from Swedbank
Pay, and the two <code class="language-plaintext highlighter-rouge">GET</code> requests that you make to get the updated status.</p>

<pre><code class="language-mermaid">sequenceDiagram
    Participant Merchant
    Participant SwedbankPay as Swedbank Pay

    activate SwedbankPay
    SwedbankPay-&gt;&gt;+Merchant: POST &lt;callbackUrl&gt;
    deactivate SwedbankPay
    note left of Merchant: Callback by Swedbank Pay
    Merchant--&gt;&gt;+SwedbankPay: HTTP response
    Merchant-&gt;&gt;+SwedbankPay: GET swish payment
    deactivate Merchant
    note left of Merchant: First API request
    SwedbankPay--&gt;&gt;+Merchant: payment resource
    deactivate SwedbankPay
</code></pre>
    
      <h3 id="problem-messages">
        
        
          Problem messages <a href="#problem-messages" class="header-anchor"></a>
        
        
      </h3>

<p>When performing unsuccessful operations, the eCommerce API will respond with a
problem message.
We generally use the problem message type and status code to identify
the nature of the problem.
The problem name and description will often help narrow down the specifics
of the problem.</p>
    
      <h2 id="swish-api-errors">
        
        
          Swish API errors <a href="#swish-api-errors" class="header-anchor"></a>
        
        
      </h2>

<p>All Swish error types will have the following URI in front of type:
<code class="language-plaintext highlighter-rouge">https://api.externalintegration.payex.com/psp/errordetail/&lt;errortype&gt;</code></p>
    
      <h3 id="inputerror">
        
        
          <code class="language-plaintext highlighter-rouge">inputerror</code> <a href="#inputerror" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>MSISDN is invalid.</li>
  <li>Payer’s MSISDN is not enrolled at Swish.</li>
</ul>

<p class="code-header">Example response inputerror</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/inputerror"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Input error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Msisdn is invalid."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="configerror">
        
        
          <code class="language-plaintext highlighter-rouge">configerror</code> <a href="#configerror" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>Payee alias is missing or not correct.</li>
  <li>PaymentReference is invalid.</li>
  <li>Amount value is missing or not a valid number.</li>
  <li>Amount is less than agreed minimum.</li>
  <li>Amount value is too large.</li>
  <li>Invalid or missing currency.</li>
  <li>Wrong formatted message.</li>
  <li>Amount value is too large, or amount exceeds the amount of the original payment minus any previous refunds.</li>
  <li>Counterpart is not activated.</li>
  <li>Payee not enrolled.</li>
</ul>

<p class="code-header">Example response configerror</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">403</span> <span class="ne">Forbidden</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/configerror"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Config error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payee alias is missing or not correct."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="swishdeclined">
        
        
          <code class="language-plaintext highlighter-rouge">swishdeclined</code> <a href="#swishdeclined" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>Original payment not found or original payment is more than than 13 months old.</li>
  <li>It appears that merchant’s organization number has changed since sale was made.</li>
  <li>The MSISDN of the original payer seems to have changed owner.</li>
  <li>Transaction declined. Could be that the payer has exceeded their swish limit or have insufficient founds.</li>
  <li>Payment request not cancellable.</li>
</ul>

<p class="code-header">Example response swishdeclined</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">403</span> <span class="ne">Forbidden</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/swishdeclined"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Swish Declined"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The MSISDN of the original payer seems to have changed owner."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="swisherror">
        
        
          <code class="language-plaintext highlighter-rouge">swisherror</code> <a href="#swisherror" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>Bank system processing error.</li>
  <li>Swish timed out waiting for an answer from the banks after payment was started.</li>
</ul>

<p class="code-header">Example response swisherror</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">502</span> <span class="ne">Bad Gateway</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/swisherror"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error in Swish"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bank system processing error."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="swishalreadyinuse">
        
        
          <code class="language-plaintext highlighter-rouge">swishalreadyinuse</code> <a href="#swishalreadyinuse" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>The payer’s Swish is already in use.</li>
</ul>

<p class="code-header">Example response swishalreadyinuse</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">403</span> <span class="ne">Forbidden</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/swishalreadyinuse"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error in Swish"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The payer's Swish is already in use."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="swishtimeout">
        
        
          <code class="language-plaintext highlighter-rouge">swishtimeout</code> <a href="#swishtimeout" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>Swish timed out before the payment was started.</li>
</ul>

<p class="code-header">Example response swishtimeout</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">403</span> <span class="ne">Forbidden</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/swishtimeout"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Swish Timed Out"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Swish timed out before the payment was started."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="bankidcancelled">
        
        
          <code class="language-plaintext highlighter-rouge">bankidcancelled</code> <a href="#bankidcancelled" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>The payer cancelled BankID authorization.</li>
</ul>

<p class="code-header">Example response bankidcancelled</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">409</span> <span class="ne">Conflict</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/bankidcancelled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BankID Authorization Cancelled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">409</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The payer cancelled BankID authorization."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="bankidalreadyinuse">
        
        
          <code class="language-plaintext highlighter-rouge">bankidalreadyinuse</code> <a href="#bankidalreadyinuse" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>The payer’s BankID is already in use</li>
</ul>

<p class="code-header">Example response bankidalreadyinuse</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">409</span> <span class="ne">Conflict</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/bankidalreadyinuse"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BankID Already in Use"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">409</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The payer's BankID is already in use."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="bankiderror">
        
        
          <code class="language-plaintext highlighter-rouge">bankiderror</code> <a href="#bankiderror" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>Something went wrong with the payer’s BankID authorization.</li>
</ul>

<p class="code-header">Example response bankiderror</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">502</span> <span class="ne">Bad Gateway</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/bankiderror"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BankID error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Something went wrong with the payer's BankID authorization."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="socialsecuritynumbermismatch">
        
        
          <code class="language-plaintext highlighter-rouge">socialsecuritynumbermismatch</code> <a href="#socialsecuritynumbermismatch" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>The payer’s social security number does not match with the one required by this payment.</li>
</ul>

<p class="code-header">Example response socialsecuritynumbermismatch</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">403</span> <span class="ne">Forbidden</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/socialsecuritynumbermismatch"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Social Security Number Mismatch"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The payer's social security number does not match with the one required by this payment."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="paymentagelimitnotmet">
        
        
          <code class="language-plaintext highlighter-rouge">paymentagelimitnotmet</code> <a href="#paymentagelimitnotmet" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>The payer does not meet the payment’s age limit.</li>
</ul>

<p class="code-header">Example response paymentagelimitnotmet</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">403</span> <span class="ne">Forbidden</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/paymentagelimitnotmet"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment Age Limit Not Met"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The payer does not meet the payment's age limit."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="usercancelled">
        
        
          <code class="language-plaintext highlighter-rouge">usercancelled</code> <a href="#usercancelled" class="header-anchor"></a>
        
        
      </h3>

<p>Caused By:</p>

<ul>
  <li>The payer cancelled the payment in the Swish app.</li>
</ul>

<p class="code-header">Example response usercancelled</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">403</span> <span class="ne">Forbidden</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/usercancelled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User Cancelled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The payer cancelled the payment in the Swish app."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="systemerror">
        
        
          <code class="language-plaintext highlighter-rouge">systemerror</code> <a href="#systemerror" class="header-anchor"></a>
        
        
      </h3>

<p class="code-header">Example response systemerror</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"sessionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570ad610-3bd5-43d2-a270-ca1510562972"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/errordetail/systemerror"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error in System"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.payex.com/psp/swish/payments/0cf55e0f-9931-476b-249d-08d7a3ee4e14/sales"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A system error occurred. We are working on it."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
                                    
                                </div>

                                <div class="col-2 d-none d-lg-block">
                                    <nav class="doc-toc">
                                        <ul>
  <li class="toc-2"><a href="#payment-resource">Payment Resource</a></li>
  <li class="toc-2"><a href="#payment-states-and-transaction-states">Payment States And Transaction States</a></li>
  <li class="toc-2"><a href="#create-payment">Create Payment</a></li>
  <li class="toc-2"><a href="#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
  <li class="toc-2"><a href="#payment-link">Payment Link</a></li>
  <li class="toc-2"><a href="#prices">Prices</a></li>
  <li class="toc-2"><a href="#payeeinfo">PayeeInfo</a></li>
  <li class="toc-2"><a href="#transactions-1">Transactions</a></li>
  <li class="toc-2"><a href="#callback">Callback</a></li>
  <li class="toc-2"><a href="#swish-api-errors">Swish API errors</a></li>
</ul>

                                    </nav>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>

            <footer class="page-footer">
                <p class="page-footer-rights">© Swedbank Pay</p>
            </footer>
        </div>

        <script src="https://design.swedbankpay.com/v/4.3.0/scripts/dg.js"></script>
        <script src="/assets/js/prism.js" data-manual></script>
        <script src="/assets/js/swedbank-pay-design-guide-theme.js"></script>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156582708-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156582708-1');
</script>

        
    </body>

</html>