


<!DOCTYPE html>
<html lang="en-US">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#000">
        <meta name="application-name" content="Swedbank Pay Checkout – Payment Menu">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title"
            content="Swedbank Pay Checkout – Payment Menu">
        <meta name="msapplication-TileColor" content="#000">
        <meta name="msapplication-TileImage" content="https://design.swedbankpay.com/v/4.3.0/icons/mstile-144x144.png">
        <meta property="og:type" value="website" />
        
        <meta property="og:url" value="https://developer.swedbankpay.com/checkout/payment-menu.html" />
        <meta property="og:title" value="Swedbank Pay Checkout – Payment Menu" />
        <meta name="title" content="Swedbank Pay Checkout – Payment Menu" />
        
        <meta property="og:description" value="Swedbank Pay Developer Portal" />
        <meta name="description" content="Swedbank Pay Developer Portal" />
        
        <meta property="og:image" value="/assets/img/swedbank-pay-developer-portal.png" />
        <title>Swedbank Pay Checkout – Payment Menu</title>
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/4.3.0/styles/dg-style.css" />
        <link rel="stylesheet" href="/assets/css/swedbank-pay-design-guide-theme.css" />
        <link rel="stylesheet" href="/assets/css/prism.css" />
        <link rel="shortcut icon" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon.ico">
        <link rel="icon" type="image/png" sizes="16x16" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon-32x32.png">
        <link rel="apple-touch-icon" sizes="57x57"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="167x167"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-167x167.png">
        <link rel="apple-touch-icon" sizes="180x180"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-180x180.png">
        <link rel="apple-touch-icon" sizes="1024x1024"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-1024x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-320x460.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-640x920.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-640x1096.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-750x1294.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1182x2208.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1242x2148.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-748x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-768x1004.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1496x2048.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1536x2008.png">
        <link rel="icon" type="image/png" sizes="228x228" href="https://design.swedbankpay.com/v/4.3.0/icons/coast-228x228.png">
        <script src="/assets/js/mermaid.min.js"></script>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
        <script src="/assets/tipuesearch/tipuesearch.min.js"></script>
        
    </head>

    <body>
        <div id="designguide">
            <header class="topbar topbar-md-wide designguide-header">
                <button type="button" class="topbar-btn"><i class="material-icons topbar-btn-icon">menu</i></button>
                <a href="https://developer.swedbankpay.com" class="topbar-logo"><img
                        src="https://design.swedbankpay.com/v/4.3.0/img/swedbankpay-logo.svg" alt="logo"></a>
                <nav class="topbar-nav">
                    <div class="topbar-link-container">
                        <button type="button" class="topbar-close"><i class="material-icons">close</i></button>

                        
                        

                        

                        <a 
                            href="/"><span>Home</span></a>

                        
                        
                        <a 
                            href="/checkout/"><span>Checkout</span></a>
                        
                        
                        <a 
                            href="/payments/"><span>Payments</span></a>
                        
                        
                        <a 
                            href="/resources/"><span>Resources</span></a>
                        

                        <div class="topbar-info topbar-link-right">
                            <div class="topbar-info-contact">
                                <a href="https://github.com/SwedbankPay/developer.swedbankpay.com/tree/master/checkout/payment-menu.md" target="_blank"
                                    rel="noopener noreferrer" title="Edit this page on GitHub">
                                    <svg aria-labelledby="simpleicons-github-icon" role="img" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <title id="simpleicons-github-icon">Edit this page on GitHub</title>
                                        <path
                                            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>

            <div class="documentation">
                <div class="row">
                    <div class="col-xxl-2 col-md-3">
                        <div class="doc-sidebar">
                            
                            <form class="doc-search" action="/search">
                                <input type="text" class="form-control" name="q" id="tipue_search_input"
                                    placeholder="Search..." autocomplete="off" pattern=".{3,}"
                                    title="At least 3 characters">
                            </form>
                            
                            
                            <nav class="documentation-nav">
                                
                                
                                <div class="nav-group active">
                                    <div class="nav-heading">
                                        <i class="material-icons">keyboard_arrow_right</i>
                                        <span>Checkout</span>
                                    </div>

                                    
                                    <ul>
                                        
                                        
                                        <li><a  href="/checkout/"><span>Introduction</span></a></li>
                                        
                                        
                                        <li><a  href="/checkout/checkin"><span>Checkin</span></a></li>
                                        
                                        
                                        <li><a  aria-current="page" class="active"
                                                 href="/checkout/payment-menu"><span>Payment Menu</span></a></li>
                                        
                                        
                                        <li><a  href="/checkout/capture"><span>Capture</span></a></li>
                                        
                                        
                                        <li><a  href="/checkout/after-payment"><span>After Payment</span></a></li>
                                        
                                        
                                        <li><a  href="/checkout/other-features"><span>Other Features</span></a></li>
                                        
                                    </ul>
                                    
                                </div>
                                
                            </nav>
                            
                        </div>
                    </div>

                    <main class="doc-view col-xxl-10 col-md-9">
                        <div class="doc-container">
                            <h1>Swedbank Pay Checkout – Payment Menu</h1>
                            <div class="row">
                                <div class="doc-body col-lg-10">
                                    
                                    <div class="jumbotron">
    <p><strong>Payment Menu</strong> begins where <strong>Checkin</strong> left
off, letting the payer complete their purchase.</p>

</div>
      <h2 id="introduction">
        
        
          Introduction <a href="#introduction" class="header-anchor"></a>
        
        
      </h2>

<p>Below, you will se the sequence diagram of the payment menu. Notice that there
are two optional ways of performing the payment:</p>

<ul>
  <li>Consumer perform payment <strong>out</strong> of <code class="language-plaintext highlighter-rouge">iframe</code>.</li>
  <li>Consumer perform payment <strong>within</strong> <code class="language-plaintext highlighter-rouge">iframe</code>.</li>
</ul>

<pre><code class="language-mermaid">sequenceDiagram
    participant Payer
    participant Merchant
    participant SwedbankPay as Swedbank Pay

rect rgba(138, 205, 195, 0.1)
            activate Payer
            note left of Payer: Payment Menu
            Payer -&gt;&gt;+ Merchant: Initiate Purchase
            deactivate Payer
            Merchant -&gt;&gt;+ SwedbankPay: POST /psp/paymentorders (paymentUrl, payer)
            deactivate Merchant
            SwedbankPay --&gt;&gt;+ Merchant: rel:view-paymentorder
            deactivate SwedbankPay
            Merchant --&gt;&gt;- Payer: Display Payment Menu on Merchant Page
            activate Payer
            Payer -&gt;&gt; Payer: Initiate Payment Menu Hosted View (open iframe)
            Payer --&gt;&gt;+ SwedbankPay: Show Payment UI page in iframe
            deactivate Payer
            SwedbankPay -&gt;&gt;+ Payer: Do payment logic
            deactivate SwedbankPay

                opt Consumer perform payment out of iFrame
                    Payer -&gt;&gt; Payer: Redirect to 3rd party
                    Payer -&gt;&gt;+ 3rdParty: Redirect to 3rdPartyUrl URL
                    deactivate Payer
                    3rdParty --&gt;&gt;+ Payer: Redirect back to paymentUrl (merchant)
                    deactivate 3rdParty
                    Payer -&gt;&gt; Payer: Initiate Payment Menu Hosted View (open iframe)
                    Payer -&gt;&gt;+ SwedbankPay: Show Payment UI page in iframe
                    deactivate Payer
                    SwedbankPay -&gt;&gt; Payer: Do payment logic
                end

        SwedbankPay --&gt;&gt; Payer: Payment status
        deactivate SwedbankPay

            alt If payment is completed
            activate Payer
            Payer -&gt;&gt; Payer: Event: onPaymentCompleted
            Payer -&gt;&gt;+ Merchant: Check payment status
            deactivate Payer
            Merchant -&gt;&gt;+ SwedbankPay: GET &lt;paymentorder.id&gt;
            deactivate Merchant
            SwedbankPay -&gt;&gt;+ Merchant: rel: paid-paymentorder
            deactivate SwedbankPay
            opt Get PaymentOrder Details (if paid-paymentorder operation exist)
            activate Payer
            deactivate Payer
            Merchant -&gt;&gt;+ SwedbankPay: GET rel: paid-paymentorder
            deactivate Merchant
            SwedbankPay --&gt;&gt; Merchant: Payment Details
            deactivate SwedbankPay
            end
            end

                opt If payment is failed
                activate Payer
                Payer -&gt;&gt; Payer: Event: OnPaymentFailed
                Payer -&gt;&gt;+ Merchant: Check payment status
                deactivate Payer
                Merchant -&gt;&gt;+ SwedbankPay: GET {paymentorder.id}
                deactivate Merchant
                SwedbankPay --&gt;&gt;+ Merchant: rel: failed-paymentorder
                deactivate SwedbankPay
                opt Get PaymentOrder Details (if failed-paymentorder operation exist)
                activate Payer
                deactivate Payer
                Merchant -&gt;&gt;+ SwedbankPay: GET rel: failed-paymentorder
                deactivate Merchant
                SwedbankPay --&gt;&gt; Merchant: Payment Details
                deactivate SwedbankPay
                end
                end
        activate Merchant
        Merchant --&gt;&gt;- Payer: Show Purchase complete
            opt PaymentOrder Callback (if callbackUrls is set)
            activate Payer
            deactivate Payer
                SwedbankPay -&gt;&gt; Merchant: POST Payment Callback
            end
            end
</code></pre>
    
      <h2 id="payment-menu-back-end">
        
        
          Payment Menu Back End <a href="#payment-menu-back-end" class="header-anchor"></a>
        
        
      </h2>

<p>We start by performing a <code class="language-plaintext highlighter-rouge">POST</code> request towards the <code class="language-plaintext highlighter-rouge">paymentorder</code> resource
with the payer information (such as <code class="language-plaintext highlighter-rouge">consumerProfileRef</code>) we obtained in the
checkin process described above.
Remember to read up on our <a href="/checkout/other-features#urls-resource">URL resource</a>.</p>

<div class="alert  alert-success">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>To minimize the risk for
a challenge request (Strong Customer Authentication – “SCA”) on card payments,
it’s recommended that you add as much data as possible to the <code class="language-plaintext highlighter-rouge">riskIndicator</code>
object in the request below.</p>
        
    
</div>
    
      <h3 id="payment-url">
        
        
          Payment Url <a href="#payment-url" class="header-anchor"></a>
        
        
      </h3>

<p>For our Seamless Views, the property called <code class="language-plaintext highlighter-rouge">paymentUrl</code> will be used when the
consumer is redirected out of the Seamless View (the <code class="language-plaintext highlighter-rouge">iframe</code>). The consumer is
redirected out of frame when selecting the payment instrument Vipps or in the 3-D Secure verification
for Credit Card Payments.</p>

<p>The URL should represent the page of where the Payment Order Seamless View was
hosted originally, such as the checkout page, shopping cart page, or similar.
Basically, <code class="language-plaintext highlighter-rouge">paymentUrl</code> should be set to the same URL as that of the page where
the JavaScript for the Seamless View was added to in order to initiate the
payment process.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Please note that the <code class="language-plaintext highlighter-rouge">paymentUrl</code> must be able to invoke the same JavaScript URL
from the same Payment Order as the one that initiated the payment process
originally, so it should include some sort of state identifier in the URL. The
state identifier is the ID of the order, shopping cart or similar that has the
URL of the Payment stored.</p>
        
    
</div>

<p>With <code class="language-plaintext highlighter-rouge">paymentUrl</code> in place, the retry process becomes much more convenient for
both the integration and the payer.</p>
    
      <h3 id="request">
        
        
          Request <a href="#request" class="header-anchor"></a>
        
        
      </h3>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/psp/paymentorders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">375</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sv-SE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generateRecurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"restrictedToInstruments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Invoice"</span><span class="p">],</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https://example.net"</span><span class="w"> </span><span class="p">],</span><span class="w">
            </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/perform-payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/payment-callback"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/termsandconditoons.pdf"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB832"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySubsite"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"consumerProfileRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"olivia.nyhuus@payex.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4798765432"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"workPhoneNumber"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+4787654321"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"homePhoneNumber"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+4776543210"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"orderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"itemUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/products/123"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"imageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/product123.jpg"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product 1 description"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volume discount"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product 2 description"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"riskIndicator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"deliveryEmailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"olivia.nyhuus@payex.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryTimeFrameIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"preOrderDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19801231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"preOrderPurchaseIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"shipIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"giftCardPurchase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reOrderPurchaseIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pickUpAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia Nyhus"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnestoppen 43"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnes"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paymentorder</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The payment order object.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">operation</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The operation that the payment order is supposed to perform.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">currency</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The currency of the payment.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount including VAT in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code>and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount of VAT in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The description of the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The user agent of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The language of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">generateRecurrenceToken</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left">Determines if a recurrence token should be generated. A recurrence token is primarily used to enable future recurring payments - with the same token - through server-to-server calls. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">restrictedToInstruments</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">CreditCard</code>, <code class="language-plaintext highlighter-rouge">Invoice</code>, <code class="language-plaintext highlighter-rouge">Vipps</code>, <code class="language-plaintext highlighter-rouge">Swish</code> and/or <code class="language-plaintext highlighter-rouge">CreditAccount</code>. <code class="language-plaintext highlighter-rouge">Invoice</code> supports the subtypes <code class="language-plaintext highlighter-rouge">PayExFinancingNo</code>, <code class="language-plaintext highlighter-rouge">PayExFinancingSe</code> and <code class="language-plaintext highlighter-rouge">PayMonthlyInvoiceSe</code>, separated by a dash, e.g.; <code class="language-plaintext highlighter-rouge">Invoice-PayExFinancingNo</code>. Limits the options available to the consumer in the payment menu. Default value is all supported payment instruments. Usage of this property requires an agreement with Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">urls</code> object, containing the URLs relevant for the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">hostUrls</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of URIs valid for embedding of Swedbank Pay Hosted Views.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">completeUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL that Swedbank Pay will redirect back to when the payer has completed his or her interactions with the payment. This does not indicate a successful payment, only that it has reached a final (complete) state. A <code class="language-plaintext highlighter-rouge">GET</code> request needs to be performed on the payment order to inspect it further.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">cancelUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to redirect the payer to if the payment is canceled, either by the payer or by the merchant trough an <code class="language-plaintext highlighter-rouge">abort</code> request of the <code class="language-plaintext highlighter-rouge">payment</code> or <code class="language-plaintext highlighter-rouge">paymentorder</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">paymentUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will redirect back to when the payment menu needs to be loaded, to inspect and act on the current status of the payment.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">callbackUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the API endpoint receiving <code class="language-plaintext highlighter-rouge">POST</code> requests on transaction activity related to the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">termsOfServiceUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the merchant terms of service document the payer must accept in order to complete the payment. This is not the Swedbank Pay Terms of Service. Requires <code class="language-plaintext highlighter-rouge">https</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeInfo</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">payeeInfo</code> object, containing information about the payee.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeId</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ID of the payee, usually the merchant ID.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(30)</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to ensure an exactly-once delivery of a transactional operation. See <a href="/checkout/other-features#payeereference">payeeReference</a> for details.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeName</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the payee, usually the name of the merchant.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">productCategory</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A product category or number sent in from the payee/merchant. This is not validated by Swedbank Pay, but will be passed through the payment process and may be used in the settlement process.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">orderReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">The order reference should reflect the order reference found in the merchant’s systems.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">subsite</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String(40)</code></td>
      <td style="text-align: left">The subsite field can be used to perform <a href="/checkout/other-features#split-settlement">split settlement</a> on the payment. The subsites must be resolved with Swedbank Pay <a href="/checkout/other-features#settlement-and-reconciliation">reconciliation</a> before being used.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payer</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">payer</code> object containing information about the payer relevant for the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: center">︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">consumerProfileRef</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The consumer profile reference as obtained through <a href="/checkout/checkin#checkin-back-end">initiating a consumer session</a>.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">orderItems</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of items being purchased with the order. Used to print on invoices if the payer chooses to pay with invoice, among other things</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">reference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A reference that identifies the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">PRODUCT</code>, <code class="language-plaintext highlighter-rouge">SERVICE</code>, <code class="language-plaintext highlighter-rouge">SHIPPING_FEE</code>, <code class="language-plaintext highlighter-rouge">PAYMENT_FEE</code>, <code class="language-plaintext highlighter-rouge">DISCOUNT</code>, <code class="language-plaintext highlighter-rouge">VALUE_CODE</code> or <code class="language-plaintext highlighter-rouge">OTHER</code>. The type of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">class</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The classification of the order item. Can be used for assigning the order item to a specific product category, such as <code class="language-plaintext highlighter-rouge">MobilePhone</code>. Note that <code class="language-plaintext highlighter-rouge">class</code> cannot contain spaces. Swedbank Pay may use this field for statistics.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">itemUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to a page that can display the purchased item, product or similar.</td>
    </tr>
    <tr>
      <td style="text-align: center">︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">imageUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to an image of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">discountDescription</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the possible discount.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">quantity</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The 4 decimal precision quantity of order items being purchased.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">quantityUnit</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The unit of the quantity, such as <code class="language-plaintext highlighter-rouge">pcs</code>, <code class="language-plaintext highlighter-rouge">grams</code>, or similar. This is a free-text field and is used for your own book keeping.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">unitPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The price per unit of order item, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">discountPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the order item is purchased at a discounted price. This property should contain that price, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatPercent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The percent value of the VAT multiplied by 100, so <code class="language-plaintext highlighter-rouge">25%</code> becomes <code class="language-plaintext highlighter-rouge">2500</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount including VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount of VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">riskIndicator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">This <strong>optional</strong> array consist of information that helps verifying the payer. Providing these fields decreases the likelyhood of having to promt for 3-D Secure authenticaiton of the payer when they are authenticating the purchacse.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">deliveryEmailAdress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">For electronic delivery, the email address to which the merchandise was delivered. Providing this field when appropriate decreases the likelyhood of a 3-D Secure authentication for the payer.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">deliveryTimeFrameIndicator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the merchandise delivery timeframe. <br /><code class="language-plaintext highlighter-rouge">01</code> (Electronic Delivery) <br /><code class="language-plaintext highlighter-rouge">02</code> (Same day shipping) <br /><code class="language-plaintext highlighter-rouge">03</code> (Overnight shipping) <br /><code class="language-plaintext highlighter-rouge">04</code> (Two-day or more shipping)</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">preOrderDate</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">For a pre-ordered purchase. The expected date that the merchandise will be available. Format: <code class="language-plaintext highlighter-rouge">YYYYMMDD</code></td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">preOrderPurchaseIndicator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates whether the payer is placing an order for merchandise with a future availability or release date. <br /><code class="language-plaintext highlighter-rouge">01</code> (Merchandise available) <br /><code class="language-plaintext highlighter-rouge">02</code> (Future availability)</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">shipIndicator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates shipping method chosen for the transaction. <br /><code class="language-plaintext highlighter-rouge">01</code> (Ship to cardholder’s billing address) <br /><code class="language-plaintext highlighter-rouge">02</code> (Ship to another verified address on file with merchant)<br /><code class="language-plaintext highlighter-rouge">03</code> (Ship to address that is different than cardholder’s billing address)<br /><code class="language-plaintext highlighter-rouge">04</code> (Ship to Store / Pick-up at local store. Store address shall be populated in shipping address fields)<br /><code class="language-plaintext highlighter-rouge">05</code> (Digital goods, includes online services, electronic giftcards and redemption codes) <br /><code class="language-plaintext highlighter-rouge">06</code> (Travel and Event tickets, not shipped) <br /><code class="language-plaintext highlighter-rouge">07</code> (Other, e.g. gaming, digital service)</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">giftCardPurchase</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> if this is a purchase of a gift card.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">reOrderPurchaseIndicator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates whether the payer is placing an order for merchandise with a future availability or release date. <br /><code class="language-plaintext highlighter-rouge">01</code> (Merchandise available) <br /><code class="language-plaintext highlighter-rouge">02</code> (Future availability)</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">pickUpAddress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">pickUpAddress</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">name</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">streetAddress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">streetAddress</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">coAddress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">coAddress</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">city</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">city</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">zipCode</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">zipCode</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">countryCode</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">countryCode</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="response">
        
        
          Response <a href="#response" class="header-anchor"></a>
        
        
      </h3>

<p>The response back should look something like this (abbreviated for brevity):</p>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/paymentmenu/core/scripts/client/px.paymentmenu.client.js?token=afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065&amp;culture=sv-SE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-paymentorder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/javascript"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paymentorder</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The payment order object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI to the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">operations</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of possible operations to perform, given the state of the payment order.</td>
    </tr>
  </tbody>
</table>

<p>The <code class="language-plaintext highlighter-rouge">paymentorder</code> object is abbreviated since it’s just the <code class="language-plaintext highlighter-rouge">id</code> and
<code class="language-plaintext highlighter-rouge">operations</code> we are interested in. Store the <code class="language-plaintext highlighter-rouge">id</code> of the Payment Order
in your system to look up status on the completed payment later.</p>

<p>Then find the <code class="language-plaintext highlighter-rouge">view-paymentorder</code> operation and embed its <code class="language-plaintext highlighter-rouge">href</code> in a
<code class="language-plaintext highlighter-rouge">&lt;script&gt;</code> element.
That script will then load the Seamless View for the Payment Menu. We will look
into how to hook that up next.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p><code class="language-plaintext highlighter-rouge">orderReference</code> must
be sent as a part of the <code class="language-plaintext highlighter-rouge">POST</code> request to <code class="language-plaintext highlighter-rouge">paymentorders</code> and must represent
the order ID of the webshop or merchant website.</p>
        
    
</div>
    
      <h2 id="payment-menu-front-end">
        
        
          Payment Menu Front End <a href="#payment-menu-front-end" class="header-anchor"></a>
        
        
      </h2>

<p>To load the payment menu from the JavaScript URL obtained in the back end API
response, it needs to be set as a <code class="language-plaintext highlighter-rouge">script</code> element’s <code class="language-plaintext highlighter-rouge">src</code> attribute. You can
cause a page reload and do this with static HTML or you can avoid the page
refresh by invoking the POST to create the payment order through Ajax and then
create the script element with JavaScript, all inside the event handler for
<a href="/checkout/payment-menu-front-end"><code class="language-plaintext highlighter-rouge">onConsumerIdentified</code></a>.
The HTML code will be unchanged in this example.</p>

<p class="code-header"><strong>JavaScript</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">load</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// We will assume that our own backend returns the</span>
    <span class="c1">// exact same as what SwedbankPay returns.</span>
    <span class="nx">response</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">script</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">script</span><span class="dl">'</span><span class="p">);</span>
    <span class="c1">// This assumes the operations from the response of the POST of the</span>
    <span class="c1">// payment order is returned verbatim from the server to the Ajax:</span>
    <span class="kd">var</span> <span class="nx">operation</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">operations</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">rel</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">view-consumer-identification</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">});</span>
    <span class="nx">script</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">src</span><span class="dl">'</span><span class="p">,</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>
    <span class="nx">script</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">payex</span><span class="p">.</span><span class="nx">hostedView</span><span class="p">.</span><span class="nx">consumer</span><span class="p">({</span>
            <span class="c1">// The container specifies which id the script will look for</span>
            <span class="c1">// to host the checkin component</span>
            <span class="na">container</span><span class="p">:</span> <span class="dl">'</span><span class="s1">checkin</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">onConsumerIdentified</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">onConsumerIdentified</span><span class="p">(</span><span class="nx">consumerIdentifiedEvent</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// When the consumer is identified, we need to perform an AJAX request</span>
                <span class="c1">// to our server to forward the consumerProfileRef in a server-to-server</span>
                <span class="c1">// POST request to the Payment Orders resource in order to initialize</span>
                <span class="c1">// the Payment Menu.</span>
                <span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
                <span class="nx">request</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">load</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="nx">response</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
                    <span class="c1">// This is identical to how we get the 'view-consumer-identification'</span>
                    <span class="c1">// script from the check-in.</span>
                    <span class="kd">var</span> <span class="nx">script</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">script</span><span class="dl">'</span><span class="p">);</span>
                    <span class="kd">var</span> <span class="nx">operation</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">operations</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">rel</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">view-paymentorder</span><span class="dl">'</span><span class="p">;</span>
                    <span class="p">});</span>
                    <span class="nx">script</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">src</span><span class="dl">'</span><span class="p">,</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>
                    <span class="nx">script</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                        <span class="c1">// When the 'view-paymentorder' script is loaded, we can initialize the</span>
                        <span class="c1">// Payment Menu inside our 'payment-menu' container.</span>
                        <span class="nx">payex</span><span class="p">.</span><span class="nx">hostedView</span><span class="p">.</span><span class="nx">paymentMenu</span><span class="p">({</span>
                            <span class="na">container</span><span class="p">:</span> <span class="dl">'</span><span class="s1">payment-menu</span><span class="dl">'</span><span class="p">,</span>
                            <span class="na">culture</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sv-SE</span><span class="dl">'</span>
                        <span class="p">}).</span><span class="nx">open</span><span class="p">();</span>
                    <span class="p">};</span>
                    <span class="c1">// Append the Payment Menu script to the &lt;head&gt;</span>
                    <span class="kd">var</span> <span class="nx">head</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="dl">'</span><span class="s1">head</span><span class="dl">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
                    <span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
                <span class="p">});</span>
                <span class="c1">// Like before, you should replace the address here with</span>
                <span class="c1">// your own endpoint.</span>
                <span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">&lt;Your-Backend-Endpoint-Here&gt;</span><span class="dl">'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
                <span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">application/json; charset=utf-8</span><span class="dl">'</span><span class="p">);</span>
                <span class="c1">// In this example, we send the entire Consumer Identified Event Argument</span>
                <span class="c1">// Object as JSON to the server, as it contains the consumerProfileRef.</span>
                <span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">consumerIdentifiedEvent</span><span class="p">));</span>
            <span class="p">},</span>
            <span class="na">onShippingDetailsAvailable</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">onShippingDetailsAvailable</span><span class="p">(</span><span class="nx">shippingDetailsAvailableEvent</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">shippingDetailsAvailableEvent</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}).</span><span class="nx">open</span><span class="p">();</span>
    <span class="p">};</span>
    <span class="c1">// Appending the script to the head</span>
    <span class="kd">var</span> <span class="nx">head</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="dl">'</span><span class="s1">head</span><span class="dl">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// Place in your own API endpoint here.</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">&lt;Your-Backend-Endpoint-Here&gt;</span><span class="dl">'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">application/json; charset=utf-8</span><span class="dl">'</span><span class="p">);</span>
<span class="c1">// We send in the previously mentioned request here to the checkin endpoint.</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">operation</span><span class="p">:</span> <span class="dl">'</span><span class="s1">initiate-consumer-session</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">language</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sv-SE</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">shippingAddressRestrictedToCountryCodes</span> <span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">NO</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">SE</span><span class="dl">'</span><span class="p">]</span>
<span class="p">}));</span>
</code></pre></div></div>

<p>This should bring up the Payment Menu in a Seamless View, looking like this:</p>

<p class="text-center"><img src="/assets/img/checkout/payment-menu.png" alt="Payment Menu with card payment opened" width="407" height="627" /></p>

<p>When the consumer completes the payment, the Payment Menu script will be
signaled and a full redirect to the <code class="language-plaintext highlighter-rouge">completeUrl</code> sent in with the
Payment Order will be performed. When the <code class="language-plaintext highlighter-rouge">completeUrl</code> on your server is hit,
you can inspect the status on the stored <code class="language-plaintext highlighter-rouge">paymentorder.id</code> on the server, and
then perform <code class="language-plaintext highlighter-rouge">capture</code>.
If the payment is a <code class="language-plaintext highlighter-rouge">Sale</code> or one-phase purchase, it will be automatically
captured. A third scenario is if the goods are sent
physically to the payer; then you should await capture until after the
goods have been sent.</p>

<p>You may open and close the payment menu using <code class="language-plaintext highlighter-rouge">.open()</code> and <code class="language-plaintext highlighter-rouge">.close()</code>
functions. You can also invoke <code class="language-plaintext highlighter-rouge">.refresh()</code> to
<a href="/checkout/after-payment#operations">update the Payment Menu</a> after any changes to the
order.</p>

<p>Now that you have completed the Payment Menu integration, you can move on to
finalizing the payment in the <a href="after-payment">After Payment section</a>.</p>

<nav class="iterator d-flex">
    
        <a class="mr-auto btn btn-guiding" role="button" rel="prev" href="checkin">
            Back: Checkin
        </a>
    

    
        <a class="ml-auto btn btn-executive" role="button" rel="next" href="capture">
            Next: Capture
        </a>
    
</nav>
                                    
                                </div>

                                <div class="col-2 d-none d-lg-block">
                                    <nav class="doc-toc">
                                        <ul>
  <li class="toc-2"><a href="#introduction">Introduction</a></li>
  <li class="toc-2"><a href="#payment-menu-back-end">Payment Menu Back End</a></li>
  <li class="toc-2"><a href="#payment-menu-front-end">Payment Menu Front End</a></li>
</ul>

                                    </nav>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>

            <footer class="page-footer">
                <p class="page-footer-rights">© Swedbank Pay</p>
            </footer>
        </div>

        <script src="https://design.swedbankpay.com/v/4.3.0/scripts/dg.js"></script>
        <script src="/assets/js/prism.js" data-manual></script>
        <script src="/assets/js/swedbank-pay-design-guide-theme.js"></script>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156582708-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156582708-1');
</script>

        
    </body>

</html>