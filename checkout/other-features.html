


<!DOCTYPE html>
<html lang="en-US">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#000">
        <meta name="application-name" content="Swedbank Pay Checkout – Other Features">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title"
            content="Swedbank Pay Checkout – Other Features">
        <meta name="msapplication-TileColor" content="#000">
        <meta name="msapplication-TileImage" content="https://design.swedbankpay.com/v/4.3.0/icons/mstile-144x144.png">
        <meta property="og:type" value="website" />
        
        <meta property="og:url" value="https://developer.swedbankpay.com/checkout/other-features.html" />
        <meta property="og:title" value="Swedbank Pay Checkout – Other Features" />
        <meta name="title" content="Swedbank Pay Checkout – Other Features" />
        
        <meta property="og:description" value="Swedbank Pay Developer Portal" />
        <meta name="description" content="Swedbank Pay Developer Portal" />
        
        <meta property="og:image" value="/assets/img/swedbank-pay-developer-portal.png" />
        <title>Swedbank Pay Checkout – Other Features</title>
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/4.3.0/styles/dg-style.css" />
        <link rel="stylesheet" href="/assets/css/swedbank-pay-design-guide-theme.css" />
        <link rel="stylesheet" href="/assets/css/prism.css" />
        <link rel="shortcut icon" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon.ico">
        <link rel="icon" type="image/png" sizes="16x16" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon-32x32.png">
        <link rel="apple-touch-icon" sizes="57x57"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="167x167"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-167x167.png">
        <link rel="apple-touch-icon" sizes="180x180"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-180x180.png">
        <link rel="apple-touch-icon" sizes="1024x1024"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-1024x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-320x460.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-640x920.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-640x1096.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-750x1294.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1182x2208.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1242x2148.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-748x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-768x1004.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1496x2048.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1536x2008.png">
        <link rel="icon" type="image/png" sizes="228x228" href="https://design.swedbankpay.com/v/4.3.0/icons/coast-228x228.png">
        <script src="/assets/js/mermaid.min.js"></script>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
        <script src="/assets/tipuesearch/tipuesearch.min.js"></script>
        
    </head>

    <body>
        <div id="designguide">
            <header class="topbar topbar-md-wide designguide-header">
                <button type="button" class="topbar-btn"><i class="material-icons topbar-btn-icon">menu</i></button>
                <a href="https://developer.swedbankpay.com" class="topbar-logo"><img
                        src="https://design.swedbankpay.com/v/4.3.0/img/swedbankpay-logo.svg" alt="logo"></a>
                <nav class="topbar-nav">
                    <div class="topbar-link-container">
                        <button type="button" class="topbar-close"><i class="material-icons">close</i></button>

                        
                        

                        

                        <a 
                            href="/"><span>Home</span></a>

                        
                        
                        <a 
                            href="/checkout/"><span>Checkout</span></a>
                        
                        
                        <a 
                            href="/payments/"><span>Payments</span></a>
                        
                        
                        <a 
                            href="/resources/"><span>Resources</span></a>
                        

                        <div class="topbar-info topbar-link-right">
                            <div class="topbar-info-contact">
                                <a href="https://github.com/SwedbankPay/developer.swedbankpay.com/tree/master/checkout/other-features.md" target="_blank"
                                    rel="noopener noreferrer" title="Edit this page on GitHub">
                                    <svg aria-labelledby="simpleicons-github-icon" role="img" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <title id="simpleicons-github-icon">Edit this page on GitHub</title>
                                        <path
                                            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>

            <div class="documentation">
                <div class="row">
                    <div class="col-xxl-2 col-md-3">
                        <div class="doc-sidebar">
                            
                            <form class="doc-search" action="/search">
                                <input type="text" class="form-control" name="q" id="tipue_search_input"
                                    placeholder="Search..." autocomplete="off" pattern=".{3,}"
                                    title="At least 3 characters">
                            </form>
                            
                            
                            <nav class="documentation-nav">
                                
                                
                                <div class="nav-group active">
                                    <div class="nav-heading">
                                        <i class="material-icons">keyboard_arrow_right</i>
                                        <span>Checkout</span>
                                    </div>

                                    
                                    <ul>
                                        
                                        
                                        <li><a  href="/checkout/"><span>Introduction</span></a></li>
                                        
                                        
                                        <li><a  href="/checkout/checkin"><span>Checkin</span></a></li>
                                        
                                        
                                        <li><a  href="/checkout/payment-menu"><span>Payment Menu</span></a></li>
                                        
                                        
                                        <li><a  href=""><span>Capture</span></a></li>
                                        
                                        
                                        <li><a  href="/checkout/after-payment"><span>After Payment</span></a></li>
                                        
                                        
                                        <li><a  aria-current="page" class="active"
                                                 href="/checkout/other-features"><span>Other Features</span></a></li>
                                        
                                    </ul>
                                    
                                </div>
                                
                            </nav>
                            
                        </div>
                    </div>

                    <main class="doc-view col-xxl-10 col-md-9">
                        <div class="doc-container">
                            <h1>Swedbank Pay Checkout – Other Features</h1>
                            <div class="row">
                                <div class="doc-body col-lg-10">
                                    
                                    <div class="jumbotron">
    <p>After a successful integration, it may be worth
investigating which <strong>other features</strong> are available in Swedbank Pay Checkout.
They are listed on this very page.</p>

</div>
      <h2 id="payment-orders">
        
        
          Payment Orders <a href="#payment-orders" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-plaintext highlighter-rouge">paymentorders</code> resource is used when initiating a payment process through
<a href="/checkout/payment-menu">Payment Menu</a> and <a href="/checkout/index">Swedbank Pay Checkout</a>. The payment
order is a container for the payment instrument object selected by the payer. This
will generate a payment that is accessed through the sub-resources <code class="language-plaintext highlighter-rouge">payments</code>
and <code class="language-plaintext highlighter-rouge">currentPayment</code>.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/urls"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payeeinfo"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/settings"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payers"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"orderItems"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/orderItems"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/metadata"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payments"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"currentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/currentpayment"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-paymentorder-abort"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/paymentmenu/afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect-paymentorder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/paymentmenu/core/scripts/client/px.paymentmenu.client.js?token=afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065&amp;culture=nb-NO"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-paymentorder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/javascript"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paymentorder</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The payment order object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI to the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment order was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment order was updated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">operation</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Purchase</code></td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Ready</code>, <code class="language-plaintext highlighter-rouge">Pending</code>, <code class="language-plaintext highlighter-rouge">Failed</code> or <code class="language-plaintext highlighter-rouge">Aborted</code>. Indicates the state of the payment order. Does not reflect the state of any ongoing payments initiated from the payment order. This field is only for status display purposes.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">currency</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The currency of the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount including VAT in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 NOK</code>, a <code class="language-plaintext highlighter-rouge">5000</code> quals <code class="language-plaintext highlighter-rouge">50.00 NOK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount of VAT in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals 100.00 NOK and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 NOK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(40)</code></td>
      <td style="text-align: left">A textual description of maximum 40 characters of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The <a href="https://en.wikipedia.org/wiki/User_agent">user agent</a> string of the consumer’s browser.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">nb-NO</code>, <code class="language-plaintext highlighter-rouge">sv-SE</code> or <code class="language-plaintext highlighter-rouge">en-US</code></td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the <code class="language-plaintext highlighter-rouge">urls</code> resource where all URIs related to the payment order can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeInfo</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the <code class="language-plaintext highlighter-rouge">payeeinfo</code> resource where the information about the payee of the payment order can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payers</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the <code class="language-plaintext highlighter-rouge">payers</code> resource where information about the payee of the payment order can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">orderItems</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the <code class="language-plaintext highlighter-rouge">orderItems</code> resource where information about the order items can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">metadata</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the <code class="language-plaintext highlighter-rouge">payments</code> resource where information about all underlying payments can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payments</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the <code class="language-plaintext highlighter-rouge">payments</code> resource where information about all underlying payments can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">currentPayment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the <code class="language-plaintext highlighter-rouge">currentPayment</code> resource where information about the current – and sole active – payment can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">operations</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of possible operations to perform, given the state of the payment order. <a href="#operations">See Operations for details</a>.</td>
    </tr>
  </tbody>
</table>
    <hr />
      <h3 id="creating-a-payment-order">
        
        
          Creating a payment order <a href="#creating-a-payment-order" class="header-anchor"></a>
        
        
      </h3>

<p>To create a payment order, you perform a <code class="language-plaintext highlighter-rouge">POST</code> request towards the
<code class="language-plaintext highlighter-rouge">paymentorders</code> resource:</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/psp/paymentorders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">375</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sv-SE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"generateRecurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"restrictedToInstruments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Invoice"</span><span class="p">],</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https://example.net"</span><span class="w"> </span><span class="p">],</span><span class="w">
            </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/perform-payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/payment-callback"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/termsandconditoons.pdf"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB832"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySubsite"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"consumerProfileRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"olivia.nyhuus@payex.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4798765432"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"workPhoneNumber"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+4787654321"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"homePhoneNumber"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+4776543210"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"orderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"itemUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/products/123"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"imageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/product123.jpg"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product 1 description"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volume discount"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product 2 description"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"riskIndicator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"deliveryEmailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"olivia.nyhuus@payex.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryTimeFrameIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"preOrderDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19801231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"preOrderPurchaseIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"shipIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"giftCardPurchase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reOrderPurchaseIndicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pickUpAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia Nyhus"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnestoppen 43"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saltnes"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1642"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paymentorder</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The payment order object.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">operation</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The operation that the payment order is supposed to perform.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">currency</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The currency of the payment.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount including VAT in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code>and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount of VAT in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The description of the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The user agent of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The language of the payer.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">generateRecurrenceToken</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left">Determines if a recurrence token should be generated. A recurrence token is primarily used to enable future recurring payments - with the same token - through server-to-server calls. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">restrictedToInstruments</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">CreditCard</code>, <code class="language-plaintext highlighter-rouge">Invoice</code>, <code class="language-plaintext highlighter-rouge">Vipps</code>, <code class="language-plaintext highlighter-rouge">Swish</code> and/or <code class="language-plaintext highlighter-rouge">CreditAccount</code>. <code class="language-plaintext highlighter-rouge">Invoice</code> supports the subtypes <code class="language-plaintext highlighter-rouge">PayExFinancingNo</code>, <code class="language-plaintext highlighter-rouge">PayExFinancingSe</code> and <code class="language-plaintext highlighter-rouge">PayMonthlyInvoiceSe</code>, separated by a dash, e.g.; <code class="language-plaintext highlighter-rouge">Invoice-PayExFinancingNo</code>. Limits the options available to the consumer in the payment menu. Default value is all supported payment instruments. Usage of this property requires an agreement with Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">urls</code> object, containing the URLs relevant for the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">hostUrls</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of URIs valid for embedding of Swedbank Pay Hosted Views.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">completeUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL that Swedbank Pay will redirect back to when the payer has completed his or her interactions with the payment. This does not indicate a successful payment, only that it has reached a final (complete) state. A <code class="language-plaintext highlighter-rouge">GET</code> request needs to be performed on the payment order to inspect it further.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">cancelUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to redirect the payer to if the payment is canceled, either by the payer or by the merchant trough an <code class="language-plaintext highlighter-rouge">abort</code> request of the <code class="language-plaintext highlighter-rouge">payment</code> or <code class="language-plaintext highlighter-rouge">paymentorder</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">paymentUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will redirect back to when the payment menu needs to be loaded, to inspect and act on the current status of the payment.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">callbackUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the API endpoint receiving <code class="language-plaintext highlighter-rouge">POST</code> requests on transaction activity related to the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">termsOfServiceUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the merchant terms of service document the payer must accept in order to complete the payment. This is not the Swedbank Pay Terms of Service. Requires <code class="language-plaintext highlighter-rouge">https</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeInfo</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">payeeInfo</code> object, containing information about the payee.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeId</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ID of the payee, usually the merchant ID.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(30)</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to ensure an exactly-once delivery of a transactional operation. See <a href="/checkout/other-features#payeereference">payeeReference</a> for details.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeName</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the payee, usually the name of the merchant.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">productCategory</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A product category or number sent in from the payee/merchant. This is not validated by Swedbank Pay, but will be passed through the payment process and may be used in the settlement process.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">orderReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">The order reference should reflect the order reference found in the merchant’s systems.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">subsite</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String(40)</code></td>
      <td style="text-align: left">The subsite field can be used to perform [split settlement][split-settlement] on the payment. The subsites must be resolved with Swedbank Pay [reconciliation][settlement-and-reconciliation] before being used.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payer</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">payer</code> object containing information about the payer relevant for the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: center">︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">consumerProfileRef</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The consumer profile reference as obtained through [initiating a consumer session][initiate-consumer-session].</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">orderItems</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of items being purchased with the order. Used to print on invoices if the payer chooses to pay with invoice, among other things</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">reference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A reference that identifies the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">PRODUCT</code>, <code class="language-plaintext highlighter-rouge">SERVICE</code>, <code class="language-plaintext highlighter-rouge">SHIPPING_FEE</code>, <code class="language-plaintext highlighter-rouge">PAYMENT_FEE</code>, <code class="language-plaintext highlighter-rouge">DISCOUNT</code>, <code class="language-plaintext highlighter-rouge">VALUE_CODE</code> or <code class="language-plaintext highlighter-rouge">OTHER</code>. The type of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">class</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The classification of the order item. Can be used for assigning the order item to a specific product category, such as <code class="language-plaintext highlighter-rouge">MobilePhone</code>. Note that <code class="language-plaintext highlighter-rouge">class</code> cannot contain spaces. Swedbank Pay may use this field for statistics.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">itemUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to a page that can display the purchased item, product or similar.</td>
    </tr>
    <tr>
      <td style="text-align: center">︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">imageUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to an image of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">discountDescription</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the possible discount.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">quantity</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The 4 decimal precision quantity of order items being purchased.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">quantityUnit</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The unit of the quantity, such as <code class="language-plaintext highlighter-rouge">pcs</code>, <code class="language-plaintext highlighter-rouge">grams</code>, or similar. This is a free-text field and is used for your own book keeping.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">unitPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The price per unit of order item, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">discountPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the order item is purchased at a discounted price. This property should contain that price, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatPercent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The percent value of the VAT multiplied by 100, so <code class="language-plaintext highlighter-rouge">25%</code> becomes <code class="language-plaintext highlighter-rouge">2500</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount including VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount of VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">riskIndicator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">This <strong>optional</strong> array consist of information that helps verifying the payer. Providing these fields decreases the likelyhood of having to promt for 3-D Secure authenticaiton of the payer when they are authenticating the purchacse.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">deliveryEmailAdress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">For electronic delivery, the email address to which the merchandise was delivered. Providing this field when appropriate decreases the likelyhood of a 3-D Secure authentication for the payer.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">deliveryTimeFrameIndicator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the merchandise delivery timeframe. <br /><code class="language-plaintext highlighter-rouge">01</code> (Electronic Delivery) <br /><code class="language-plaintext highlighter-rouge">02</code> (Same day shipping) <br /><code class="language-plaintext highlighter-rouge">03</code> (Overnight shipping) <br /><code class="language-plaintext highlighter-rouge">04</code> (Two-day or more shipping)</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">preOrderDate</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">For a pre-ordered purchase. The expected date that the merchandise will be available. Format: <code class="language-plaintext highlighter-rouge">YYYYMMDD</code></td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">preOrderPurchaseIndicator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates whether the payer is placing an order for merchandise with a future availability or release date. <br /><code class="language-plaintext highlighter-rouge">01</code> (Merchandise available) <br /><code class="language-plaintext highlighter-rouge">02</code> (Future availability)</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">shipIndicator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates shipping method chosen for the transaction. <br /><code class="language-plaintext highlighter-rouge">01</code> (Ship to cardholder’s billing address) <br /><code class="language-plaintext highlighter-rouge">02</code> (Ship to another verified address on file with merchant)<br /><code class="language-plaintext highlighter-rouge">03</code> (Ship to address that is different than cardholder’s billing address)<br /><code class="language-plaintext highlighter-rouge">04</code> (Ship to Store / Pick-up at local store. Store address shall be populated in shipping address fields)<br /><code class="language-plaintext highlighter-rouge">05</code> (Digital goods, includes online services, electronic giftcards and redemption codes) <br /><code class="language-plaintext highlighter-rouge">06</code> (Travel and Event tickets, not shipped) <br /><code class="language-plaintext highlighter-rouge">07</code> (Other, e.g. gaming, digital service)</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">giftCardPurchase</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> if this is a purchase of a gift card.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">reOrderPurchaseIndicator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates whether the payer is placing an order for merchandise with a future availability or release date. <br /><code class="language-plaintext highlighter-rouge">01</code> (Merchandise available) <br /><code class="language-plaintext highlighter-rouge">02</code> (Future availability)</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">pickUpAddress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">pickUpAddress</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">name</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">streetAddress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">streetAddress</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">coAddress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">coAddress</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">city</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">city</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">zipCode</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">zipCode</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">countryCode</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">shipIndicator</code> set to <code class="language-plaintext highlighter-rouge">04</code>, then prefill this with the payers <code class="language-plaintext highlighter-rouge">countryCode</code> of the purchase to decrease the risk factor of the purchase.</td>
    </tr>
  </tbody>
</table>
    
      <h4 id="response">
        
        
          Response <a href="#response" class="header-anchor"></a>
        
        
      </h4>

<p>The response given when creating a payment order is equivalent to a <code class="language-plaintext highlighter-rouge">GET</code>
request towards the <code class="language-plaintext highlighter-rouge">paymentorders</code> resource, <a href="#payment-orders">as displayed above</a></p>
    
      <h3 id="urls">
        
        
          URLs <a href="#urls" class="header-anchor"></a>
        
        
      </h3>

<p>When creating a Payment Order, the <code class="language-plaintext highlighter-rouge">urls</code> property of the <code class="language-plaintext highlighter-rouge">paymentOrder</code>
contains the related URIs, including where the consumer gets redirected when
going forward with or cancelling a payment session, as well as the callback URI
that is used to inform the payee (merchant) of changes or updates made to
underlying payments or transaction.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">✔ ︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">hostUrls</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of URIs valid for embedding of Swedbank Pay Hosted Views.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">completeUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL that Swedbank Pay will redirect back to when the payer has completed his or her interactions with the payment. This does not indicate a successful payment, only that it has reached a final (complete) state. A <code class="language-plaintext highlighter-rouge">GET</code> request needs to be performed on the payment order to inspect it further.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">termsOfServiceUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the terms of service document the payer must accept in order to complete the payment. <strong>HTTPS is a requirement</strong>.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">cancelUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to redirect the payer to if the payment is canceled, either by the payer or by the merchant trough an <code class="language-plaintext highlighter-rouge">abort</code> request of the <code class="language-plaintext highlighter-rouge">payment</code> or <code class="language-plaintext highlighter-rouge">paymentorder</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paymentUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will redirect back to when the payment menu needs to be loaded, to inspect and act on the current status of the payment.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">callbackUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the API endpoint receiving <code class="language-plaintext highlighter-rouge">POST</code> requests on transaction activity related to the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">logoUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the logo that will be displayed on redirect pages. <strong>HTTPS is a requirement</strong>.</td>
    </tr>
  </tbody>
</table>
    
      <h4 id="payment-url">
        
        
          Payment Url <a href="#payment-url" class="header-anchor"></a>
        
        
      </h4>

<p>For our Seamless Views, the property called <code class="language-plaintext highlighter-rouge">paymentUrl</code> will be used when the
consumer is redirected out of the Seamless View (the <code class="language-plaintext highlighter-rouge">iframe</code>). The consumer is
redirected out of frame when selecting the payment instrument Vipps or in the 3-D Secure verification
for Credit Card Payments.</p>

<p>The URL should represent the page of where the Payment Order Seamless View was
hosted originally, such as the checkout page, shopping cart page, or similar.
Basically, <code class="language-plaintext highlighter-rouge">paymentUrl</code> should be set to the same URL as that of the page where
the JavaScript for the Seamless View was added to in order to initiate the
payment process.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Please note that the <code class="language-plaintext highlighter-rouge">paymentUrl</code> must be able to invoke the same JavaScript URL
from the same Payment Order as the one that initiated the payment process
originally, so it should include some sort of state identifier in the URL. The
state identifier is the ID of the order, shopping cart or similar that has the
URL of the Payment stored.</p>
        
    
</div>

<p>With <code class="language-plaintext highlighter-rouge">paymentUrl</code> in place, the retry process becomes much more convenient for
both the integration and the payer.</p>
    
      <h4 id="urls-resource">
        
        
          URLs Resource <a href="#urls-resource" class="header-anchor"></a>
        
        
      </h4>

<p>It is possible to perform a <code class="language-plaintext highlighter-rouge">GET</code> request on the <code class="language-plaintext highlighter-rouge">urls</code> resource to retrieve its
contents.</p>

<p class="code-header">Request</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/urls/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header">Response</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/payments/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/urls"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://example.net"</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/payment-complete"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cancelUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/payment-canceled"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/perform-payment"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.example.com/payment-callback"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://merchant.com/path/to/logo.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://merchant.com/path/to/tems"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paymentorder</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the payment order the resource belong to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The URLs object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI to the <code class="language-plaintext highlighter-rouge">urls</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">hostsUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">An array of the whitelisted URIs that are allowed as parents to a Hosted View, typically the URI of the web shop or similar that will embed a Hosted View within it.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">completeUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL that Swedbank Pay will redirect back to when the payer has completed his or her interactions with the payment. This does not indicate a successful payment, only that it has reached a final (complete) state. A <code class="language-plaintext highlighter-rouge">GET</code> request needs to be performed on the payment order to inspect it further.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">cancelUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to redirect the payer to if the payment is canceled, either by the payer or by the merchant trough an <code class="language-plaintext highlighter-rouge">abort</code> request of the <code class="language-plaintext highlighter-rouge">payment</code> or <code class="language-plaintext highlighter-rouge">paymentorder</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">paymentUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will redirect back to when the payment menu needs to be loaded, to inspect and act on the current status of the payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">callbackUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will perform an HTTP <code class="language-plaintext highlighter-rouge">POST</code> against every time a transaction is created on the payment. See <a href="/checkout/other-features#callback">callback</a> for details.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">logoUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that will be used for showing the customer logo. Must be a picture with at most 50px height and 400px width.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">termsOfServiceUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A URI that contains your terms and conditions for the payment, to be linked on the payment page.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="order-items">
        
        
          Order Items <a href="#order-items" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-plaintext highlighter-rouge">orderItems</code> property of the <code class="language-plaintext highlighter-rouge">paymentOrder</code> is an array containing the items being purchased with the order. Used to print on invoices if the payer chooses to pay with invoice, among other things. Order items can be specified on both payment order creation as well as on <a href="#capture">Capture</a>.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">reference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A reference that identifies the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">enum</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">PRODUCT</code>, <code class="language-plaintext highlighter-rouge">SERVICE</code>, <code class="language-plaintext highlighter-rouge">SHIPPING_FEE</code>, <code class="language-plaintext highlighter-rouge">DISCOUNT</code>, <code class="language-plaintext highlighter-rouge">VALUE_CODE</code>, or <code class="language-plaintext highlighter-rouge">OTHER</code>. The type of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">class</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The classification of the order item. Can be used for assigning the order item to a specific product category, such as <code class="language-plaintext highlighter-rouge">MobilePhone</code>. Note that <code class="language-plaintext highlighter-rouge">class</code> cannot contain spaces. Swedbank Pay may use this field for statistics.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">itemUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to a page that can display the purchased item, such as a product page</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">imageUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to an image of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">discountDescription</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the possible discount.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">quantity</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">decimal</code></td>
      <td style="text-align: left">The 4 decimal precision quantity of order items being purchased.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">quantityUnit</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The unit of the quantity, such as <code class="language-plaintext highlighter-rouge">pcs</code>, <code class="language-plaintext highlighter-rouge">grams</code>, or similar.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">unitPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The price per unit of order item, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">discountPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the order item is purchased at a discounted price. This property should contain that price, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">vatPercent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The percent value of the VAT multiplied by 100, so <code class="language-plaintext highlighter-rouge">25%</code> becomes <code class="language-plaintext highlighter-rouge">2500</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount including VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount of VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="items">
        
        
          Items <a href="#items" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-plaintext highlighter-rouge">items</code> property of the <code class="language-plaintext highlighter-rouge">paymentOrder</code> is an array containing items that will affect how the payment is performed.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">creditCard</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The credit card object.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">rejectDebitCards</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> if debit cards should be declined; otherwise <code class="language-plaintext highlighter-rouge">false</code> per default. Default value is set by Swedbank Pay and can be changed at your request.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">rejectDebitCards</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> if debit cards should be declined; otherwise <code class="language-plaintext highlighter-rouge">false</code> per default. Default value is set by Swedbank Pay and can be changed at your request.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">rejectCreditCards</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> if credit cards should be declined; otherwise <code class="language-plaintext highlighter-rouge">false</code> per default. Default value is set by Swedbank Pay and can be changed at your request.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">rejectConsumerCards</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> if consumer cards should be declined; otherwise <code class="language-plaintext highlighter-rouge">false</code> per default. Default value is set by Swedbank Pay and can be changed at your request.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">rejectCorporateCards</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> if corporate cards should be declined; otherwise <code class="language-plaintext highlighter-rouge">false</code> per default. Default value is set by Swedbank Pay and can be changed at your request.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">invoice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The invoice object.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">feeAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The fee amount in the lowest monetary unit to apply if the consumer chooses to pay with invoice.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">swish</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The swish object.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">enableEcomOnly</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> to only enable Swish on ecommerce transactions.</td>
    </tr>
  </tbody>
</table>

<p>The <code class="language-plaintext highlighter-rouge">paymentOrders</code> resource utilize several sub-resources, relating to
underlying <a href="#current-payment-resource">payments</a>,
<a href="#current-payment-resource">the current payment active</a>,
<a href="#payer-resource">payers</a> and <a href="#urls-resource">URLs</a>.
Common sub-resources like <a href="/checkout/other-features#payeereference">payeeinfo</a>, that are
structurally identical for both payments and payments orders, are described in
the <a href="#payments-resource">Payment Resources</a> section.</p>
    
      <h2 id="operations">
        
        
          Operations <a href="#operations" class="header-anchor"></a>
        
        
      </h2>

<p>When a payment order resource is created and during its lifetime, it will have
a set of operations that can be performed on it.
The state of the payment order resource, what the access token is authorized
to do, the chosen payment instrument and its transactional states, etc.
determine the available operations before the initial purchase.
A list of possible operations and their explanation is given below.</p>

<p class="code-header"><strong>Operations</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">paymentOrder</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="dl">"</span><span class="s2">operations</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PATCH</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.externalintegration.payex.com/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">update-paymentorder-abort</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contentType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PATCH</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.externalintegration.payex.com/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">update-paymentorder-updateorder</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contentType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://ecom.externalintegration.payex.com/paymentmenu/afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">redirect-paymentorder</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contentType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">text/html</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://ecom.externalintegration.payex.com/paymentmenu/core/scripts/client/px.paymentmenu.client.js?token=afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065&amp;culture=nb-NO</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">view-paymentorder</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contentType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/javascript</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.externalintegration.payex.com/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/captures</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">create-paymentorder-capture</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contentType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.externalintegration.payex.com/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/cancellations</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">create-paymentorder-cancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contentType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.externalintegration.payex.com/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/reversals</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">create-paymentorder-reversal</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contentType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.externalintegration.payex.com/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/paid</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">paid-paymentorder</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contentType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.externalintegration.payex.com/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/failed</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">failed-paymentorder</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contentType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/problem+json</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">href</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The target URI to perform the operation against.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">rel</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the relation the operation has to the current resource.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">method</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">GET</code>, <code class="language-plaintext highlighter-rouge">PATCH</code>, <code class="language-plaintext highlighter-rouge">POST</code>, etc. The HTTP method to use when performing the operation.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">contentType</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The HTTP content type of the resource referenced in the <code class="language-plaintext highlighter-rouge">href</code> property.</td>
    </tr>
  </tbody>
</table>

<p>The operations should be performed as described in each response and not as
described here in the documentation. Always use the <code class="language-plaintext highlighter-rouge">href</code> and <code class="language-plaintext highlighter-rouge">method</code> as
specified in the response by finding the appropriate operation based on its
<code class="language-plaintext highlighter-rouge">rel</code> value. The only thing that should be hard coded in the client is the value
of the <code class="language-plaintext highlighter-rouge">rel</code> and the request that will be sent in the HTTP body of the request
for the given operation.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Operation</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">update-paymentorder-abort</code></td>
      <td style="text-align: left"><a href="#operations">Aborts</a> the payment order before any financial transactions are performed.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">update-paymentorder-updateorder</code></td>
      <td style="text-align: left"><a href="/checkout/after-payment#update-order">Updates the order</a> with a change in the <code class="language-plaintext highlighter-rouge">amount</code> and/or <code class="language-plaintext highlighter-rouge">vatAmount</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">redirect-paymentorder</code></td>
      <td style="text-align: left">Contains the URI that is used to redirect the consumer to the Swedbank Pay Payments containing the Payment Menu.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">view-paymentorder</code></td>
      <td style="text-align: left">Contains the JavaScript <code class="language-plaintext highlighter-rouge">href</code> that is used to embed the Payment Menu UI directly on the webshop/merchant site.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">create-paymentorder-capture</code></td>
      <td style="text-align: left">The second part of a two-phase transaction where the authorized amount is sent from the payer to the payee. It is possible to do a part-capture on a subset of the authorized amount. Several captures on the same payment are possible, up to the total authorization amount.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">create-paymentorder-cancel</code></td>
      <td style="text-align: left">Used to cancel authorized and not yet captured transactions. If a cancellation is performed after doing a part-capture, it will only affect the not yet captured authorization amount.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">create-paymentorder-reversal</code></td>
      <td style="text-align: left">Used to reverse a payment. It is only possible to reverse a payment that has been captured and not yet reversed.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paid-paymentorder</code></td>
      <td style="text-align: left">Returns the information about a paymentorder that has the status <code class="language-plaintext highlighter-rouge">paid</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">failed-paymentorder</code></td>
      <td style="text-align: left">Returns the information about a paymentorder that has the status <code class="language-plaintext highlighter-rouge">failed</code>.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="view-payment-order">
        
        
          View Payment Order <a href="#view-payment-order" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-plaintext highlighter-rouge">view-paymentorder</code> operation contains the URI of the JavaScript that needs to be set as a <code class="language-plaintext highlighter-rouge">script</code> element’s <code class="language-plaintext highlighter-rouge">src</code> attribute, either client-side through JavaScript or server-side in HTML as shown below.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Swedbank Pay Checkout is Awesome!<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"checkout"</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://ecom.externalintegration.payex.com/paymentmenu/core/scripts/client/px.paymentmenu.client.js?token=afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065&amp;culture=nb-NO"</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">language=</span><span class="s">"javascript"</span><span class="nt">&gt;</span>
            <span class="nx">payex</span><span class="p">.</span><span class="nx">hostedView</span><span class="p">.</span><span class="nx">paymentMenu</span><span class="p">({</span>
                <span class="na">container</span><span class="p">:</span> <span class="dl">'</span><span class="s1">checkout</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">culture</span><span class="p">:</span> <span class="dl">'</span><span class="s1">nb-NO</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">onPaymentCompleted</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">paymentCompletedEvent</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">paymentCompletedEvent</span><span class="p">);</span>
                <span class="p">},</span>
                <span class="na">onPaymentFailed</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">paymentFailedEvent</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">paymentFailedEvent</span><span class="p">);</span>
                <span class="p">},</span>
                <span class="na">onPaymentCreated</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">paymentCreatedEvent</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">paymentCreatedEvent</span><span class="p">);</span>
                <span class="p">},</span>
                <span class="na">onPaymentToS</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">paymentToSEvent</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">paymentToSEvent</span><span class="p">);</span>
                <span class="p">},</span>
                <span class="na">onPaymentMenuInstrumentSelected</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">paymentMenuInstrumentSelectedEvent</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">paymentMenuInstrumentSelectedEvent</span><span class="p">);</span>
                <span class="p">},</span>
                <span class="na">onError</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
                <span class="p">},</span>
            <span class="p">}).</span><span class="nx">open</span><span class="p">();</span>
        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>
    
      <h3 id="update-order">
        
        
          Update Order <a href="#update-order" class="header-anchor"></a>
        
        
      </h3>

<p>Change amount and vat amount on a payment order. If you implement <code class="language-plaintext highlighter-rouge">UpdateOrder</code>
<strong>you need to <code class="language-plaintext highlighter-rouge">refresh()</code></strong> the <a href="/checkout/payment-menu">Payment Menu front end</a> so the
new amount is shown to the end customer.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">PATCH</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UpdateOrder"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">375</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"itemUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/shop/products/1234"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"imageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/products/product1.jpg"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product description"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volume discount"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">351.3514</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product description"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">9876.1531</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">Response
</span><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/urls"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payeeinfo"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/settings"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payers"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"orderItems"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/orderItems"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/metadata"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payments"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"currentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/currentpayment"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-paymentorder-abort"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/paymentmenu/afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect-paymentorder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/paymentmenu/core/scripts/client/px.paymentmenu.client.js?token=afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065&amp;culture=nb-NO"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-paymentorder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/javascript"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The response given when changing a payment order is equivalent to a <code class="language-plaintext highlighter-rouge">GET</code>
request towards the <code class="language-plaintext highlighter-rouge">paymentorders</code> resource,
<a href="/checkout/other-features#payment-orders">as displayed above</a>.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>After updating the Payment Order, remember to call <code class="language-plaintext highlighter-rouge">.refresh()</code> on the Payment
Menu in JavaScript.</p>
        
    
</div>
    
      <h2 id="capture">
        
        
          Capture <a href="#capture" class="header-anchor"></a>
        
        
      </h2>

<p>Capture can only be done on a payment with a successful authorized transaction,
and if the authorization was not done on a one-phase payment instrument.
Examples of one-phase payment instruments are <a href="/payments/swish/index.md">Swish</a>
and <a href="/payments/vipps/index.md">Vipps</a>, while payment instruments such as
<a href="/payments/card/index.md">Credit Card</a> are two-phase payments, requiring
a <code class="language-plaintext highlighter-rouge">Capture</code> to be performed.</p>

<p>It is possible to do a part-capture where you only capture a smaller amount
than the authorized amount. You can later do more captures on the same payment
up to the total authorization amount.</p>

<p>This is done by requesting the order information from the server, to get the
request link to perform the capture. With this, you can request the capture
with the sum to capture, and get back the status.</p>

<pre><code class="language-mermaid">sequenceDiagram
    participant Merchant
    participant SwedbankPay as Swedbank Pay

    rect rgba(81,43,43,0.1)
        activate Merchant
        note left of Payer: Capture
        Merchant -&gt;&gt;+ SwedbankPay: rel:create-paymentorder-capture
        deactivate Merchant
        SwedbankPay --&gt;&gt;- Merchant: Capture status
        note right of Merchant: Capture here only if the purchased&lt;br/&gt;goods don't require shipping.&lt;br/&gt;If shipping is required, perform capture&lt;br/&gt;after the goods have shipped.&lt;br&gt;Should only be used for &lt;br&gt;PaymentInstruments that support &lt;br&gt;Authorizations.
        end
</code></pre>

<p>To capture the authorized payment, we need to perform
<code class="language-plaintext highlighter-rouge">create-paymentorder-capture</code> against the accompanying <code class="language-plaintext highlighter-rouge">href</code> returned in the
<code class="language-plaintext highlighter-rouge">operations</code> list. See the abbreviated request and response below:</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/captures</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Capturing the authorized payment"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">375</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB832"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"itemUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/products/123"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"imageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/product123.jpg"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product 1 description"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volume discount"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product 2 description"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The description of the capture transaction.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount including VAT in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals 100.00 NOK and <code class="language-plaintext highlighter-rouge">5000</code> equals 50.00 NOK.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount of VAT in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals 100.00 NOK and <code class="language-plaintext highlighter-rouge">5000</code> equals 50.00 NOK.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(30)</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to ensure an exactly-once delivery of a transactional operation. See <a href="/checkout/other-features#payeereference">payeeReference</a> for details. In Invoice Payments <code class="language-plaintext highlighter-rouge">payeereference</code> is used as an invoice/receipt number.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">orderItems</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of items being purchased with the order. Used to print on invoices if the payer chooses to pay with invoice, among other things. Required in <code class="language-plaintext highlighter-rouge">capture</code> requests if already sent with the initial creation of the Payment Order. Note that this should only contain the items to be captured from the order.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">reference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A reference that identifies the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">enum</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">PRODUCT</code>, <code class="language-plaintext highlighter-rouge">SERVICE</code>, <code class="language-plaintext highlighter-rouge">SHIPPING_FEE</code>, <code class="language-plaintext highlighter-rouge">PAYMENT_FEE</code>, <code class="language-plaintext highlighter-rouge">DISCOUNT</code>, <code class="language-plaintext highlighter-rouge">VALUE_CODE</code> or <code class="language-plaintext highlighter-rouge">OTHER</code>. The type of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">class</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The classification of the order item. Can be used for assigning the order item to a specific product category, such as <code class="language-plaintext highlighter-rouge">MobilePhone</code>. Note that <code class="language-plaintext highlighter-rouge">class</code> cannot contain spaces. Swedbank Pay may use this field for statistics.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">itemUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to a page that can display the purchased item, product or similar.</td>
    </tr>
    <tr>
      <td style="text-align: center">︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">imageUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to an image of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">discountDescription</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the possible discount.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">quantity</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The 4 decimal precision quantity of order items being purchased.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">quantityUnit</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The unit of the quantity, such as <code class="language-plaintext highlighter-rouge">pcs</code>, <code class="language-plaintext highlighter-rouge">grams</code>, or similar. This is a free-text field and is used for your own book keeping.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">unitPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The price per unit of order item, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">discountPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the order item is purchased at a discounted price. This property should contain that price, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatPercent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The percent value of the VAT multiplied by 100, so <code class="language-plaintext highlighter-rouge">25%</code> becomes <code class="language-plaintext highlighter-rouge">2500</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount including VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount of VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">reference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A reference that identifies the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">enum</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">PRODUCT</code>, <code class="language-plaintext highlighter-rouge">SERVICE</code>, <code class="language-plaintext highlighter-rouge">SHIPPING_FEE</code>, <code class="language-plaintext highlighter-rouge">PAYMENT_FEE</code>, <code class="language-plaintext highlighter-rouge">DISCOUNT</code>, <code class="language-plaintext highlighter-rouge">VALUE_CODE</code> or <code class="language-plaintext highlighter-rouge">OTHER</code>. The type of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">class</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The classification of the order item. Can be used for assigning the order item to a specific product category, such as <code class="language-plaintext highlighter-rouge">MobilePhone</code>. Note that <code class="language-plaintext highlighter-rouge">class</code> cannot contain spaces. Swedbank Pay may use this field for statistics.</td>
    </tr>
    <tr>
      <td style="text-align: center">︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">itemUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to a page that can display the purchased item, such as a product page</td>
    </tr>
    <tr>
      <td style="text-align: center">︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">imageUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to an image of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">discountDescription</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the possible discount.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">quantity</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">decimal</code></td>
      <td style="text-align: left">The 4 decimal precision quantity of order items being purchased.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">quantityUnit</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The unit of the quantity, such as <code class="language-plaintext highlighter-rouge">pcs</code>, <code class="language-plaintext highlighter-rouge">grams</code>, or similar.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">unitPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The price per unit of order item, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center">︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">discountPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the order item is purchased at a discounted price. This property should contain that price, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatPercent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The percent value of the VAT multiplied by 100, so <code class="language-plaintext highlighter-rouge">25%</code> becomes <code class="language-plaintext highlighter-rouge">2500</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount including VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 NOK</code> and <code class="language-plaintext highlighter-rouge">500</code>0 equals <code class="language-plaintext highlighter-rouge">50.00 NOK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount of VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 NOK</code> and <code class="language-plaintext highlighter-rouge">500</code>0 equals <code class="language-plaintext highlighter-rouge">50.00 NOK</code>.</td>
    </tr>
  </tbody>
</table>

<p>If the capture succeeds, it should respond with something like the following:</p>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"capture"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15610</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3122</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Capturing the authorized payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB832"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the payment this capture transaction belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">capture</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The capture object, containing the information about the capture transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the created capture transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object, containing information about the current transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current <code class="language-plaintext highlighter-rouge">transaction</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the transaction type.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Initialized</code>, <code class="language-plaintext highlighter-rouge">Completed</code> or <code class="language-plaintext highlighter-rouge">Failed</code>. Indicates the state of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-plaintext highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, for that <code class="language-plaintext highlighter-rouge">id</code> should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">Amount is entered in the lowest momentary units of the selected currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> = 100.00 NOK, <code class="language-plaintext highlighter-rouge">5000</code> = 50.00 SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the amount given includes VAT, this may be displayed for the user in the payment page (redirect only). Set to 0 (zero) if this is not relevant.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A human readable description of maximum 40 characters of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference for the transaction. See <a href="/checkout/other-features#payeereference"><code class="language-plaintext highlighter-rouge">payeeReference</code></a> for details.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="abort">
        
        
          Abort <a href="#abort" class="header-anchor"></a>
        
        
      </h3>

<p>To abort a payment order, perform the <code class="language-plaintext highlighter-rouge">update-paymentorder-abort</code> operation that
is returned in the payment order response. You need to include the following
in the request body:</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">PATCH</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Abort"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"abortReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CancelledByConsumer"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">Response
</span><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/urls"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payeeinfo"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/settings"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payers"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"orderItems"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/orderItems"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/metadata"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payments"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"currentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/currentpayment"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-paymentorder-abort"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/paymentmenu/afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect-paymentorder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/paymentmenu/core/scripts/client/px.paymentmenu.client.js?token=afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065&amp;culture=nb-NO"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-paymentorder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/javascript"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The response given when aborting a payment order is equivalent to a <code class="language-plaintext highlighter-rouge">GET</code>
request towards the <code class="language-plaintext highlighter-rouge">paymentorders</code> resource,
<a href="/checkout/other-features#payment-orders">as displayed above</a>,
with its <code class="language-plaintext highlighter-rouge">state</code> set to <code class="language-plaintext highlighter-rouge">Aborted</code>.</p>
    
      <h3 id="cancel">
        
        
          Cancel <a href="#cancel" class="header-anchor"></a>
        
        
      </h3>

<p>If we want to cancel up to the total authorized (not captured) amount, we need
to perform <code class="language-plaintext highlighter-rouge">create-paymentorder-cancel</code> against the accompanying <code class="language-plaintext highlighter-rouge">href</code> returned
in the <code class="language-plaintext highlighter-rouge">operations</code> list. See the abbreviated request and response below:</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/cancellations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC123"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelling parts of the total amount"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(30)</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to ensure an exactly-once delivery of a transactional operation. See <a href="/checkout/other-features#payeereference">payeeReference</a> for details.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A textual description of why the transaction is cancelled.</td>
    </tr>
  </tbody>
</table>

<p>If the cancellation request succeeds, the response should be similar to the
example below:</p>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancellation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/cancellations/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancel"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5610</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1122</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelling parts of the authorized payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB832"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the payment this cancellation transaction belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">cancellation</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The cancellation object, containing information about the cancellation transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the cancellation transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object, containing information about the current transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current <code class="language-plaintext highlighter-rouge">transaction</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the transaction type.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Initialized</code>, <code class="language-plaintext highlighter-rouge">Completed</code> or <code class="language-plaintext highlighter-rouge">Failed</code>. Indicates the state of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-plaintext highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, for that <code class="language-plaintext highlighter-rouge">id</code> should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">Amount is entered in the lowest momentary units of the selected currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> = 100.00 NOK, <code class="language-plaintext highlighter-rouge">5000</code> = 50.00 SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the amount given includes VAT, this may be displayed for the user in the payment page (redirect only). Set to 0 (zero) if this is not relevant.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A human readable description of maximum 40 characters of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference for the transaction. See <a href="/checkout/other-features#payeereference"><code class="language-plaintext highlighter-rouge">payeeReference</code></a> for details.</td>
    </tr>
  </tbody>
</table>
    
      <h4 id="reversal">
        
        
          Reversal <a href="#reversal" class="header-anchor"></a>
        
        
      </h4>

<p>If we want to reverse a previously captured amount, we need to perform
<code class="language-plaintext highlighter-rouge">create-paymentorder-reversal</code> against the accompanying <code class="language-plaintext highlighter-rouge">href</code> returned in the
<code class="language-plaintext highlighter-rouge">operations</code> list. See the abbreviated request and response below:</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/reversals</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reversal of captured transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">375</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC123"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"receiptReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3245766"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"itemUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/products/123"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"imageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/product123.jpg"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product 1 description"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volume discount"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product 2 description"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount including VAT in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals 100.00 NOK and <code class="language-plaintext highlighter-rouge">5000</code> equals 50.00 NOK.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount of VAT in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals 100.00 NOK and <code class="language-plaintext highlighter-rouge">5000</code> equals 50.00 NOK.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(30)</code></td>
      <td style="text-align: left">A unique reference from the merchant system. It is set per operation to ensure an exactly-once delivery of a transactional operation. See <a href="/checkout/other-features#payeereference">payeeReference</a> for details. In Invoice Payments <code class="language-plaintext highlighter-rouge">payeereference</code> is used as an invoice/receipt number, if the <code class="language-plaintext highlighter-rouge">receiptreference</code> is not defined.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">receiptReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(30)</code></td>
      <td style="text-align: left">A reference from the merchant system. In Invoice Payments <code class="language-plaintext highlighter-rouge">receiptreference</code> is used as an invoice/receipt number.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Textual description of why the transaction is reversed.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">orderItems</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of items being purchased with the order. Used to print on invoices if the payer chooses to pay with invoice, among other things. Required in <code class="language-plaintext highlighter-rouge">capture</code> requests if already sent with the initial creation of the Payment Order. Note that this should only contain the items to be captured from the order.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">reference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A reference that identifies the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">enum</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">PRODUCT</code>, <code class="language-plaintext highlighter-rouge">SERVICE</code>, <code class="language-plaintext highlighter-rouge">SHIPPING_FEE</code>, <code class="language-plaintext highlighter-rouge">PAYMENT_FEE</code>, <code class="language-plaintext highlighter-rouge">DISCOUNT</code>, <code class="language-plaintext highlighter-rouge">VALUE_CODE</code> or <code class="language-plaintext highlighter-rouge">OTHER</code>. The type of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">class</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The classification of the order item. Can be used for assigning the order item to a specific product category, such as <code class="language-plaintext highlighter-rouge">MobilePhone</code>. Note that <code class="language-plaintext highlighter-rouge">class</code> cannot contain spaces. Swedbank Pay may use this field for statistics.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">itemUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to a page that can display the purchased item, product or similar.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">imageUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URL to an image of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the order item.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">discountDescription</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of the possible discount.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">quantity</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The 4 decimal precision quantity of order items being purchased.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">quantityUnit</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The unit of the quantity, such as <code class="language-plaintext highlighter-rouge">pcs</code>, <code class="language-plaintext highlighter-rouge">grams</code>, or similar. This is a free-text field and is used for your own book keeping.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">unitPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The price per unit of order item, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">discountPrice</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the order item is purchased at a discounted price. This property should contain that price, including VAT.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatPercent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The percent value of the VAT multiplied by 100, so <code class="language-plaintext highlighter-rouge">25%</code> becomes <code class="language-plaintext highlighter-rouge">2500</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount including VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The total amount of VAT to be paid for the specified quantity of this order item, in the lowest monetary unit of the currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> equals <code class="language-plaintext highlighter-rouge">100.00 SEK</code> and <code class="language-plaintext highlighter-rouge">5000</code> equals <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
  </tbody>
</table>

<p>If the reversal request succeeds, the response should be similar to the example below:</p>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reversals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/cancellations/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reversal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15610</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3122</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reversing the capture amount"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC987"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the payment this reversal transaction belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">reversals</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The reversal object, containing information about the reversal transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the reversal transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object, containing information about the current transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current <code class="language-plaintext highlighter-rouge">transaction</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the transaction type.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Initialized</code>, <code class="language-plaintext highlighter-rouge">Completed</code> or <code class="language-plaintext highlighter-rouge">Failed</code>. Indicates the state of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-plaintext highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, for that <code class="language-plaintext highlighter-rouge">id</code> should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">Amount is entered in the lowest momentary units of the selected currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> = 100.00 NOK, <code class="language-plaintext highlighter-rouge">5000</code> = 50.00 SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the amount given includes VAT, this may be displayed for the user in the payment page (redirect only). Set to 0 (zero) if this is not relevant.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A human readable description of maximum 40 characters of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference for the transaction. See <a href="/checkout/other-features#payeereference"><code class="language-plaintext highlighter-rouge">payeeReference</code></a> for details. In Invoice Payments <code class="language-plaintext highlighter-rouge">payeereference</code> is used as an invoice/receipt number.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="transactions">
        
        
          Transactions <a href="#transactions" class="header-anchor"></a>
        
        
      </h3>

<p>A payment contains sub-resources in the form of <code class="language-plaintext highlighter-rouge">transactions</code>. Most operations
performed on a payment ends up as a transaction. The different types of
operations that alter the state of the payment by creating a transaction is
described below.</p>

<p>The <code class="language-plaintext highlighter-rouge">transactions</code> resource will list the transactions (one or more) on a
specific payment.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactionList"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initialized"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PR1004"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failedReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the payment this list of transactions belong to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">transactions</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transactions object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current <code class="language-plaintext highlighter-rouge">transactions</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">transactionList</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of transaction objects.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">transactionList[]</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object (described in the <code class="language-plaintext highlighter-rouge">transaction</code> resource below).</td>
    </tr>
  </tbody>
</table>
    
      <h4 id="transaction">
        
        
          Transaction <a href="#transaction" class="header-anchor"></a>
        
        
      </h4>

<p>The <code class="language-plaintext highlighter-rouge">transaction</code> resource contains the generic details of a transaction on a
specific payment.</p>

<p>When a transaction is created it will have one of three states:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Initialized</code> - if there is some error where the source is undeterminable
(network failure, etc), the transaction will remain Initialized. The
corresponding state of the payment order will in this case be set to pending.
No further transactions can be created.</li>
  <li><code class="language-plaintext highlighter-rouge">Completed</code> - if everything went ok the transaction will follow through to
completion.</li>
  <li><code class="language-plaintext highlighter-rouge">Failed</code> - if the transaction has failed (i.e. a denial from the acquiring
bank) it is possible to retry (i.e the consumer tries using another credit
card) up to a maximum amount of retries (in that case which the payment order
gets the state <code class="language-plaintext highlighter-rouge">failed</code> as well).</li>
</ul>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.01Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T01:01:01.03Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initialized"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AH123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"failedReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isOperational"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the payment this transaction belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">transaction</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The transaction object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current <code class="language-plaintext highlighter-rouge">transaction</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the transaction was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Indicates the transaction type.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Initialized</code>, <code class="language-plaintext highlighter-rouge">Completed</code> or <code class="language-plaintext highlighter-rouge">Failed</code>. Indicates the state of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The transaction <code class="language-plaintext highlighter-rouge">number</code>, useful when there’s need to reference the transaction in human communication. Not usable for programmatic identification of the transaction, for that <code class="language-plaintext highlighter-rouge">id</code> should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">Amount is entered in the lowest momentary units of the selected currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> = 100.00 NOK, <code class="language-plaintext highlighter-rouge">5000</code> = 50.00 SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the amount given includes VAT, this may be displayed for the user in the payment page (redirect only). Set to 0 (zero) if this is not relevant.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A human readable description of maximum 40 characters of the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique reference for the transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">failedReason</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable explanation of why the payment failed.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">isOperational</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">true</code> if the transaction is operational; otherwise <code class="language-plaintext highlighter-rouge">false</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">operations</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of operations that are possible to perform on the transaction in its current state.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="recurring-payments">
        
        
          Recurring Payments <a href="#recurring-payments" class="header-anchor"></a>
        
        
      </h2>

<p>If you want to enable subsequent recurring – server-to-server – payments, you
need to create a <strong>recurrence token</strong>. This token will be utilized after the
initial payment order. <strong>Recurring payments must be activated on the contract
with Swedbank Pay in order to work.</strong></p>
    
      <h3 id="recurrence-token">
        
        
          Recurrence Token <a href="#recurrence-token" class="header-anchor"></a>
        
        
      </h3>

<ul>
  <li>When initiating a <code class="language-plaintext highlighter-rouge">Purchase</code> payment order, you need to make sure that the
property <code class="language-plaintext highlighter-rouge">generateRecurrenceToken</code> is set to <code class="language-plaintext highlighter-rouge">true</code>. This recurrence token
will stored in the <a href="#transaction">authorization transaction</a>
sub-resource on the underlying payment resource.</li>
  <li>When initiating a <code class="language-plaintext highlighter-rouge">Verify</code> payment order, a recurrence token will be generated
automatically. This recurrence token is stored in the
<a href="#verify-payment-orders">verification</a>  sub-resource on the underlying
payment resource.</li>
</ul>

<p>You can view the current payment resource, containg the recurrence token and
other payment instrument properties, by <a href="#expansion">expanding the sub-resource</a>
<a href="#current-payment-resource"><code class="language-plaintext highlighter-rouge">currentpayment</code></a> when doing a <code class="language-plaintext highlighter-rouge">GET</code> request on the
<code class="language-plaintext highlighter-rouge">paymentorders</code> resource.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce?$expand=currentpayment</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
</code></pre></div></div>
    
      <h3 id="creating-recurring-payments">
        
        
          Creating Recurring Payments <a href="#creating-recurring-payments" class="header-anchor"></a>
        
        
      </h3>

<p>When you have a <code class="language-plaintext highlighter-rouge">recurrenceToken</code> token safely tucked away, you can use this
token in a subsequent <code class="language-plaintext highlighter-rouge">Recur</code> payment order. This will be a server-to-server
affair, as we have tied all necessary payment instrument details related to the
recurrence token during the initial payment order.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/psp/paymentorders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recur"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"recurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sv-SE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/callback"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="w">
      </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-12456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subsite1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"orderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRODUCT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductGroup1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"itemUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/shop/id=123"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"imageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/product1.jpg"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product 1 description"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"discountDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volume discount"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantityUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcs"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
        </span><span class="nl">"discountPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatPercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"key1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"key2"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"key3"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"key4"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h2 id="purchase-payments">
        
        
          Purchase Payments <a href="#purchase-payments" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-plaintext highlighter-rouge">Purchase</code> operation is used in all common purchase scenarios.</p>

<p class="code-header"><strong>Purchase</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">paymentorder</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">operation</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Purchase</span><span class="dl">"</span>
    <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>
    
      <h2 id="verify-payments">
        
        
          Verify Payments <a href="#verify-payments" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-plaintext highlighter-rouge">Verify</code> operation lets you post verifications to confirm the validity of
<strong>credit card information</strong>, without reserving or charging any amount. This
option is mainly used to initiate a recurring payment scenario where the card
will be charged at a later date. The request body is equivalent to a <code class="language-plaintext highlighter-rouge">Purchase</code>
order with credit card as the selected item.
A <a href="/checkout/other-features#payment-orders">recurrence token</a> will be generated automatically,
rendering the parameter <code class="language-plaintext highlighter-rouge">generateRecurrenceToken</code> unnecessary for this
operation.</p>

<p class="code-header"><strong>Verify</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">paymentorder</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">operation</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Verify</span><span class="dl">"</span>
    <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>
    
      <h2 id="payments-resource">
        
        
          Payments Resource <a href="#payments-resource" class="header-anchor"></a>
        
        
      </h2>

<p>A payment order is able to hold more than one payment object, <em>even though a
successful payment order only harbour one successful payment</em>. This is necessary
as the consumer might select and initiate a payment option that is not followed
through successfully. I.e. if the consumer cancels an invoice payment, a cancel
transaction will still be tied to that particular invoice payment resource. This
payment resource will continue to exist, even if the consumer successfully
should finish the purchase with a credit card payment instead.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payments"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentList"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"instrument"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"instrument"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paymentorder</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The payment order object.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payments</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">payments</code> object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current <code class="language-plaintext highlighter-rouge">payments</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">paymentList</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of <code class="language-plaintext highlighter-rouge">payment</code> objects.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI of the <code class="language-plaintext highlighter-rouge">payment</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">instrument</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the payment instrument.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date and time of when the payment was created.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="current-payment-resource">
        
        
          Current Payment Resource <a href="#current-payment-resource" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-plaintext highlighter-rouge">currentpayment</code> resource displays the payment that are active within the
payment order container.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/currentpayment</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"menuElementName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"creditcard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"recurrenceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/prices"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/transactions"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"authorizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/authorizations"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/captures"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"cancellations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/cancellations"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"reversals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/reversals"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"verifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/verifications"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"urls"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/urls"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/payeeInfo"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/metadata"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/09ccd29a-7c4f-4752-9396-12100cbfecce/settings"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paymentorder</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI of the payment order the payment belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">menuElementName</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">creditcard</code>, <code class="language-plaintext highlighter-rouge">invoice</code>, etc. The name of the selected menu element.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The payment object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">recurrenceToken</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The created recurrenceToken, if <code class="language-plaintext highlighter-rouge">operation: Verify</code> or <code class="language-plaintext highlighter-rouge">generateRecurrenceToken: true</code> was used.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI to the payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment <code class="language-plaintext highlighter-rouge">number</code>, useful when there’s need to reference the payment in human communication. Not usable for programmatic identification of the payment, for that <code class="language-plaintext highlighter-rouge">id</code> should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">instrument</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The payment instrument used.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was updated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">operation</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Purchase</code>, <code class="language-plaintext highlighter-rouge">payout</code>, <code class="language-plaintext highlighter-rouge">Verify</code> or <code class="language-plaintext highlighter-rouge">recur.</code>The type of the initiated payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">intent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The intent of the payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Ready</code>, <code class="language-plaintext highlighter-rouge">Pending</code>, <code class="language-plaintext highlighter-rouge">Failed</code> or <code class="language-plaintext highlighter-rouge">Aborted</code>. Indicates the state of the payment. This field is only for status display purposes.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">currency</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The currency of the payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The prices object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">Amount is entered in the lowest momentary units of the selected currency. E.g. <code class="language-plaintext highlighter-rouge">10000</code> = <code class="language-plaintext highlighter-rouge">100.00 NOK</code>, <code class="language-plaintext highlighter-rouge">5000</code> = <code class="language-plaintext highlighter-rouge">50.00 SEK</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">remainingCaptureAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The available amount to capture.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">remainingCancelAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The available amount to cancel.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">remainingReversalAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The available amount to reverse.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(40)</code></td>
      <td style="text-align: left">A textual description of maximum 40 characters of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payerReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The reference to the consumer from the merchant system, like mobile number, customer number etc.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The <a href="https://en.wikipedia.org/wiki/User_agent">user agent</a> string of the consumer’s browser.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">nb-NO</code>, <code class="language-plaintext highlighter-rouge">sv-SE</code> or <code class="language-plaintext highlighter-rouge">en-US</code></td>
    </tr>
  </tbody>
</table>
    
      <h3 id="prices-resource">
        
        
          Prices Resource <a href="#prices-resource" class="header-anchor"></a>
        
        
      </h3>
    
      <h2 id="prices">
        
        
          Prices <a href="#prices" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-plaintext highlighter-rouge">prices</code> resource lists the prices related to a specific payment.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"priceList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2350</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MasterCard"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2350</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the  <code class="language-plaintext highlighter-rouge">payment</code>  the prices resource belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">prices</code>  resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI of the current  <code class="language-plaintext highlighter-rouge">prices</code>  resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">priceList</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of price objects. <strong>Note:</strong> Even if you specifiy  <code class="language-plaintext highlighter-rouge">CreditCard</code>  in the input message the system will return all your configured card brands instead when you expan the priceList.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The type of the price object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">Amount is entered in the lowest momentary units of the selected currency. E.g. 10000 = 100.00 NOK, 5000 = 50.00 SEK.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the amount given includes VAT, this may be displayed for the user in the payment page (redirect only). Set to 0 (zero) if this is not relevant.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="prices-object-types">
        
        
          Prices Object Types <a href="#prices-object-types" class="header-anchor"></a>
        
        
      </h3>

<p>Each payment instrument have one or more prices object types. This is most
relevant when using card based payments as each type correspond
to a card brand or bank respectively.</p>
    
      <h4 id="card-payments">
        
        
          Card Payments <a href="#card-payments" class="header-anchor"></a>
        
        
      </h4>

<p>The generic type <code class="language-plaintext highlighter-rouge">CreditCard</code> enables all card brands, supported by merchant
contract.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Visa</code></td>
      <td style="text-align: left">Visa</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">MasterCard</code></td>
      <td style="text-align: left">MasterCard</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Amex</code></td>
      <td style="text-align: left">American Express</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Dankort</code></td>
      <td style="text-align: left">Dankort can only be used with DKK currency</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Diners</code></td>
      <td style="text-align: left">Diners Club</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Finax</code></td>
      <td style="text-align: left">Finax</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Jcb</code></td>
      <td style="text-align: left">JCB</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">IkanoFinansDK</code></td>
      <td style="text-align: left">Ikano Finans Denmark</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Maestro</code></td>
      <td style="text-align: left">MasterCard Maestro</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="payer-resource">
        
        
          Payer Resource <a href="#payer-resource" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-plaintext highlighter-rouge">payer</code> resource contains payer information related to the payment order.
The information is retrieved via a consumer profile token
(<code class="language-plaintext highlighter-rouge">consumerProfileRef</code>), from the <a href="/checkout/other-features#payeereference">Consumers resource</a>
during login/checkin.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payers/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce/payer"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reference to payer"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"msisdn"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shippingAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"firstName + lastName"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coAddress"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"streetAddress"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zipCode"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"city"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"countryCode"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paymentorder</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI of the payment order the payer belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payer</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The payer object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI to the current <code class="language-plaintext highlighter-rouge">payer</code> resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">email</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Payer’s registered email address.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">msisdn</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Payer’s registered mobile phone number.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">shippingAddress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The shipping address object related to the <code class="language-plaintext highlighter-rouge">payer</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">addresse</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The shipping address object related to the <code class="language-plaintext highlighter-rouge">payer</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">coAddress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Payer’ s c/o address, if applicable.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">streetAddress</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Payer’s street address</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">zipCode</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Payer’s zip code</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">city</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Payer’s city of residence</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">countryCode</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">Country Code for country of residence.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="checkin-events">
        
        
          Checkin Events <a href="#checkin-events" class="header-anchor"></a>
        
        
      </h2>

<p>The Checkin Seamless View can inform about events that occur during Checkin
through JavaScript event callbacks which can be implemented in the
<code class="language-plaintext highlighter-rouge">configuration</code> object passed to the <code class="language-plaintext highlighter-rouge">payex.hostedView.consumer(configuration)</code>
object.</p>

<pre><code class="language-mermaid">sequenceDiagram
  participant Consumer
  participant Merchant
  participant SwedbankPay as Swedbank Pay

  Consumer -&gt;&gt; Merchant: visit
  Merchant -&gt;&gt; Merchant: Prepare, Embed ClientScript
  Merchant -&gt;&gt; SwedbankPay: payex.hostedView.consumer().open()

  alt Configuration validation failure
    SwedbankPay --&gt;&gt; Merchant: onError
  end

  alt Identified consumer
      SwedbankPay-&gt;&gt;Merchant: onConsumerIdentified

      alt Depending on backend response
        SwedbankPay-&gt;&gt;Merchant: onShippingDetailsAvailable
        SwedbankPay-&gt;&gt;Merchant: onBillingDetailsAvailable
      end
  end

  alt Change shipping address
    Consumer-&gt;&gt;SwedbankPay: Click change shipping adress button
    SwedbankPay-&gt;&gt;Merchant: OnShippingDetailsAvailable
  end
</code></pre>
    
      <h3 id="onconsumeridentified">
        
        
          <code class="language-plaintext highlighter-rouge">onConsumerIdentified</code> <a href="#onconsumeridentified" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when a consumer has performed Checkin and is identified,
if the Payment Menu is not loaded and in the DOM.</p>

<p>The <code class="language-plaintext highlighter-rouge">onConsumerIdentified</code> event is raised with the following event argument
object:</p>

<p class="code-header"><strong><code class="language-plaintext highlighter-rouge">onConsumerIdentified</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">actionType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OnConsumerIdentified</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">consumerProfileRef</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div></div>
    
      <h3 id="onshippingdetailsavailable">
        
        
          <code class="language-plaintext highlighter-rouge">onShippingDetailsAvailable</code> <a href="#onshippingdetailsavailable" class="header-anchor"></a>
        
        
      </h3>

<p>Triggered when a consumer has been identified or shipping address has been
updated.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>The Checkin must be
completed before any shipping details are finalized, as the Checkin component
provides shipping address via the <code class="language-plaintext highlighter-rouge">onShippingDetailsAvailable</code> event.</p>
        
    
</div>

<p class="code-header"><strong><code class="language-plaintext highlighter-rouge">onShippingDetailsAvailable</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">actionType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OnBillingDetailsAvailable</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/consumers/afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065/shipping-details</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div></div>
    
      <h3 id="onbillingdetailsavailable">
        
        
          <code class="language-plaintext highlighter-rouge">onBillingDetailsAvailable</code> <a href="#onbillingdetailsavailable" class="header-anchor"></a>
        
        
      </h3>

<p>Triggered when a consumer has been identified</p>

<p class="code-header"><strong><code class="language-plaintext highlighter-rouge">onBillingDetailsAvailable</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">actionType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OnBillingDetailsAvailable</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">/psp/consumers/afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065/billing-details</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div></div>
    
      <h3 id="onerror">
        
        
          <code class="language-plaintext highlighter-rouge">onError</code> <a href="#onerror" class="header-anchor"></a>
        
        
      </h3>

<p>Triggered on terminal errors, and when the configuration fails validation.</p>
    
      <h2 id="enable-or-disable-payment-menu">
        
        
          Enable or Disable Payment Menu <a href="#enable-or-disable-payment-menu" class="header-anchor"></a>
        
        
      </h2>

<p>It is possible to disable the payment menu when only one instrument exist by
setting the <code class="language-plaintext highlighter-rouge">disablePaymentMenu</code> property to <code class="language-plaintext highlighter-rouge">true</code>. The default value is
<code class="language-plaintext highlighter-rouge">false</code>, exemplified below.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">paymentorder</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">disablePaymentMenu</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<p class="text-center"><img src="/assets/img/checkout/payment-menu.png" alt="example disablePaymentMenu = false" width="464" /></p>

<p>Setting <code class="language-plaintext highlighter-rouge">disablePaymentMenu</code> property to <code class="language-plaintext highlighter-rouge">true</code> removes all other payment
instruments but the one that is available.
This feature is only valuable to set to <code class="language-plaintext highlighter-rouge">true</code> if you have only one payment
instrument available. By setting it to <code class="language-plaintext highlighter-rouge">true</code> will remove the frame around the
menu and show only the instrument.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">paymentorder</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">disablePaymentMenu</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<p class="text-center"><img src="/assets/img/checkout/test-purchase.png" alt="example disablePaymentMenu = true" width="463" /></p>
    
      <h2 id="payment-menu-events">
        
        
          Payment Menu Events <a href="#payment-menu-events" class="header-anchor"></a>
        
        
      </h2>

<p>During operation in the Payment Menu, several events can occur. They are
described below.</p>
    
      <h3 id="onpaymentmenuinstrumentselected">
        
        
          <code class="language-plaintext highlighter-rouge">onPaymentMenuInstrumentSelected</code> <a href="#onpaymentmenuinstrumentselected" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when a user actively changes payment instrument in the
Payment Menu. The <code class="language-plaintext highlighter-rouge">onPaymentMenuInstrumentSelected</code> event is raised with the
following event argument object:</p>

<p class="code-header"><strong><code class="language-plaintext highlighter-rouge">onPaymentMenuInstrumentSelected</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">menu identifier</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">instrument</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">creditcard | vipps | swish | invoice</span><span class="dl">"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name and identifier of specific instrument instances - i.e. if you deploy more than one type of credit card payments, they would be distinguished by <code class="language-plaintext highlighter-rouge">name</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">instrument</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Creditcard</code>, <code class="language-plaintext highlighter-rouge">vipps</code>, <code class="language-plaintext highlighter-rouge">swish</code>, <code class="language-plaintext highlighter-rouge">invoice</code>. The instrument selected by the user.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymentcreated">
        
        
          <code class="language-plaintext highlighter-rouge">onPaymentCreated</code> <a href="#onpaymentcreated" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when a user has selected a payment instrument and actively
attempts to perform a payment. The <code class="language-plaintext highlighter-rouge">onPaymentCreate</code> event is raised with the
following event argument object:</p>

<p class="code-header"><strong><code class="language-plaintext highlighter-rouge">onPaymentCreated</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">instrument</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">creditcard | vipps | swish | invoice</span><span class="dl">"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI to the payment.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">instrument</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Creditcard</code>, <code class="language-plaintext highlighter-rouge">vipps</code>, <code class="language-plaintext highlighter-rouge">swish</code>, <code class="language-plaintext highlighter-rouge">invoice</code>. The instrument selected when initiating the payment.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymentcompleted">
        
        
          <code class="language-plaintext highlighter-rouge">onPaymentCompleted</code> <a href="#onpaymentcompleted" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when a payment has completed successfully.
The <code class="language-plaintext highlighter-rouge">onPaymentCompleted</code> event is raised with the following event argument
object:</p>

<p class="code-header"><strong><code class="language-plaintext highlighter-rouge">onPaymentCompleted</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">redirectUrl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://en.wikipedia.org/wiki/Success</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI to the payment.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">redirectUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI the user will be redirect to after a completed payment.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymentcanceled">
        
        
          <code class="language-plaintext highlighter-rouge">onPaymentCanceled</code> <a href="#onpaymentcanceled" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when the user cancels the payment.
The <code class="language-plaintext highlighter-rouge">onPaymentCanceled</code> event is raised with the following event argument
object:</p>

<p class="code-header"><strong><code class="language-plaintext highlighter-rouge">onPaymentCanceled</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">redirectUrl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://en.wikipedia.org/wiki/Canceled</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI to the payment.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">redirectUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI the user will be redirect to after a canceled payment.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymentfailed">
        
        
          <code class="language-plaintext highlighter-rouge">onPaymentFailed</code> <a href="#onpaymentfailed" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when a payment has failed, disabling further attempts to
perform a payment. The <code class="language-plaintext highlighter-rouge">onPaymentFailed</code> event is raised with the following
event argument object:</p>

<p class="code-header"><strong><code class="language-plaintext highlighter-rouge">onPaymentFailed</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">redirectUrl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://en.wikipedia.org/wiki/Failed</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI to the payment.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">redirectUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI the user will be redirect to after a failed payment.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onpaymenttermsofservice">
        
        
          <code class="language-plaintext highlighter-rouge">onPaymentTermsOfService</code> <a href="#onpaymenttermsofservice" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers when the user clicks on the “Display terms and conditions”
link. The <code class="language-plaintext highlighter-rouge">onPaymentTermsOfService</code> event is raised with the following event
argument object:</p>

<p class="code-header"><strong><code class="language-plaintext highlighter-rouge">onPaymentTermsOfService</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">origin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">owner | merchant</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">openUrl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.org/terms.html</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">origin</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">owner</code>, <code class="language-plaintext highlighter-rouge">merchant</code>. The value is always <code class="language-plaintext highlighter-rouge">merchant</code> unless Swedbank Pay hosts the view.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">openUrl</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI containing Terms of Service and conditions.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="onerror-1">
        
        
          <code class="language-plaintext highlighter-rouge">onError</code> <a href="#onerror-1" class="header-anchor"></a>
        
        
      </h3>

<p>This event triggers during terminal errors or if the configuration fails
validation. The <code class="language-plaintext highlighter-rouge">onError</code> event will be raised with the following event argument
object:</p>

<p class="code-header"><strong><code class="language-plaintext highlighter-rouge">onError</code> event object</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">origin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">consumer | paymentmenu | creditcard | invoice | ...</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">messageId</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;unique message ID&gt;</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">details</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Descriptive text of the error</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">origin</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">consumer</code>, <code class="language-plaintext highlighter-rouge">paymentmenu</code>, <code class="language-plaintext highlighter-rouge">creditcard</code>, identifies the system that originated the error.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">messageId</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A unique identifier for the message.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">details</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A human readable and descriptive text of the error.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="callback">
        
        
          Callback <a href="#callback" class="header-anchor"></a>
        
        
      </h2>

<ul>
  <li>Setting a <code class="language-plaintext highlighter-rouge">callbackUrl</code> in the HTTP <code class="language-plaintext highlighter-rouge">POST</code> API is optional, but highly
recommended. If a payer closes the browser window, a network error or
something else happens that prevents the payer from being redirect from
Swedbank Pay back to the merchant website, the callback is what ensures that
you receive information about what happened with the payment.</li>
  <li>When a change or update from the back-end system are made on a payment or
transaction, Swedbank Pay will perform an asynchronous server-to-server
callback to inform the payee (merchant) about this update.</li>
  <li>Swedbank Pay will make an HTTP <code class="language-plaintext highlighter-rouge">POST</code> to the <code class="language-plaintext highlighter-rouge">callbackUrl</code> that was
specified when the payee (merchant) created the payment.</li>
  <li>When the <code class="language-plaintext highlighter-rouge">callbackUrl</code> receives such a callback, an HTTP <code class="language-plaintext highlighter-rouge">GET</code> request must
be made on the payment or on the transaction.
The retrieved payment or transaction resource will give you the necessary
information about the recent change/update.</li>
  <li>The callback will be retried if it fails.
Below are the retry timings, in seconds
from the initial transaction time:
    <ul>
      <li>30 seconds</li>
      <li>60 seconds</li>
      <li>360 seconds</li>
      <li>432 seconds</li>
      <li>864 seconds</li>
      <li>1265 seconds</li>
    </ul>
  </li>
  <li>The callback is sent from the following IP address <code class="language-plaintext highlighter-rouge">82.115.146.1</code>.</li>
</ul>

<p class="code-header"><strong>Payment Order Callback</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">paymentOrder</span><span class="dl">"</span><span class="p">:{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/paymentorders/09ccd29a-7c4f-4752-9396-12100cbfecce</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">instrument</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;payment instrument&gt;</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">payment</span><span class="dl">"</span><span class="p">:{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/&lt;payment instrument&gt;/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">222222222</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">transaction</span><span class="dl">"</span><span class="p">:{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/&lt;payment instrument&gt;/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/&lt;transaction type&gt;/ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">333333333</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Payment Instrument</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">CreditCard</code>, <code class="language-plaintext highlighter-rouge">Invoice</code>, <code class="language-plaintext highlighter-rouge">Swish</code>, <code class="language-plaintext highlighter-rouge">Vipps</code>, <code class="language-plaintext highlighter-rouge">DirectDebit</code>, <code class="language-plaintext highlighter-rouge">MobilePay</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Transaction Type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Authorization</code>, <code class="language-plaintext highlighter-rouge">Capture</code>, <code class="language-plaintext highlighter-rouge">Cancellation</code>, <code class="language-plaintext highlighter-rouge">Reversal</code></td>
    </tr>
  </tbody>
</table>

<p>The sequence diagram below shows the HTTP <code class="language-plaintext highlighter-rouge">POST</code> you will receive from Swedbank
Pay, and the two <code class="language-plaintext highlighter-rouge">GET</code> requests that you make to get the updated status.</p>

<pre><code class="language-mermaid">sequenceDiagram
    participant Merchant
    participant SwedbankPay as Swedbank Pay
    activate Merchant
        activate SwedbankPay
            SwedbankPay-&gt;Merchant: POST &lt;callbackUrl&gt;
            note left of Merchant: Callback by Swedbank Pay
            Merchant--&gt;SwedbankPay: HTTP response
        deactivate SwedbankPay
    deactivate Merchant

    activate Merchant
        Merchant-&gt;SwedbankPay: GET &lt;payment instrument&gt; payment
        activate SwedbankPay
            note left of Merchant: First API request
            SwedbankPay--&gt;Merchant: payment resource
        deactivate SwedbankPay
    deactivate Merchant
</code></pre>
    
      <h2 id="problems">
        
        
          Problems <a href="#problems" class="header-anchor"></a>
        
        
      </h2>

<p>When performing operations against the API, it will respond with a problem
message that contain details of the error type if the request could not be
successfully performed.
Regardless of why the error occurred, the problem message will follow the same
structure as specified in the
<a href="https://tools.ietf.org/html/rfc7807">Problem Details for HTTP APIs</a>] specification.</p>

<p>The structure of a problem message will look like this:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.payex.com/psp/errordetail/creditcard/inputerror</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">title</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">There was an input error</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">detail</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Please correct the errors and retry the request</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">instance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">action</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">RetryNewData</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">problems</span><span class="dl">"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreditCardParameters.Issuer</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">minimum one issuer must be enabled </span><span class="dl">"</span>
    <span class="p">}]</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that identifies the error type. This is the <strong>only property usable for programmatic identification</strong> of the type of error! When dereferenced, it might lead you to a human readable description of the error and how it can be recovered from.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">title</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The title contains a human readable description of the error.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">detail</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A detailed, human readable description of the error.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">instance</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The identifier of the error instance. This might be of use to Swedbank Pay support personnel in order to find the exact error and the context it occurred in.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">status</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The HTTP status code that the problem was served with.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">action</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">action</code> indicates how the error can be recovered from.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">problems</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of problem detail objects.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">[].name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the property, header, object, entity or likewise that was erroneous.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">[].description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The description of what was wrong with the property, header, object, entity or likewise identified by <code class="language-plaintext highlighter-rouge">name</code>.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="common-problems">
        
        
          Common Problems <a href="#common-problems" class="header-anchor"></a>
        
        
      </h3>

<p>All common problem types will have a URI in the format
<code class="language-plaintext highlighter-rouge">https://api.payex.com/psp/errordetail/&lt;payment-instrument&gt;/&lt;error-type&gt;</code>.
The <strong>URI is an identifier</strong> and is currently not possible to dereference,
although that might be possible in the future.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Status</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">inputerror</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">400</code></td>
      <td style="text-align: left">The server cannot or will not process the request due to an apparent client error (e.g. malformed request syntax, size to large, invalid request).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">forbidden</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">403</code></td>
      <td style="text-align: left">The request was valid, but the server is refusing the action. The necessary permissions to access the resource might be lacking.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">notfound</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">404</code></td>
      <td style="text-align: left">The requested resource could not be found, but may be available in the future. Subsequent requests are permissible.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">systemerror</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">500</code></td>
      <td style="text-align: left">A generic error message.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">configurationerror</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">500</code></td>
      <td style="text-align: left">A error relating to configuration issues.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="expansion">
        
        
          Expansion <a href="#expansion" class="header-anchor"></a>
        
        
      </h3>

<p>The payment resource contain the ID of related sub-resources in its response
properties. These sub-resources can be expanded inline by using the request
parameter <code class="language-plaintext highlighter-rouge">expand</code>. This is an effective way to limit the number of necessary
calls to the API, as you return several properties related to a Payment resource
in a single request.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Note that the <code class="language-plaintext highlighter-rouge">expand</code> parameter is available to all API requests but only
applies to the request response. This means that you can use the expand
parameter on a <code class="language-plaintext highlighter-rouge">POST</code>  or <code class="language-plaintext highlighter-rouge">PATCH</code>request to get a response containing the target
resource including expanded properties.</p>
        
    
</div>

<p>This example below add the <code class="language-plaintext highlighter-rouge">urls</code> and <code class="language-plaintext highlighter-rouge">authorizations</code> property inlines to the
response, enabling you to access information from these sub-resources.</p>

<p class="code-header"><strong>Expansion</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1?$expand=urls,authorizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
</code></pre></div></div>

<p>To avoid unnecessary overhead, you should only expand the nodes you need info
about.</p>
    
      <h2 id="payeeinfo">
        
        
          PayeeInfo <a href="#payeeinfo" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-plaintext highlighter-rouge">payeeinfo</code> resource contains information about the payee (i.e. a merchant,
a corporation etc) related to a specific payment.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/invoice/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="w">
        </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EN1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestMerchant1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EF1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-123456"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI of the payment which the  <code class="language-plaintext highlighter-rouge">payeeinfo</code>  belongs to.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI of the current  <code class="language-plaintext highlighter-rouge">payeeinfo</code>  resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeId</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">This is the unique id that identifies this payee (like merchant) set by Swedbank Pay</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">A unique reference set by the merchant system. See below for details</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payeeName</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The payee name (like merchant name) that will be displayed to consumer when redirected to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">productCategory</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A product category or number sent in from the payee/merchant. This is not validated by Swedbank Pay, but will be passed through the payment process and may be used in the settlement process. You therefore need to ensure that the value given here is valid in the settlement.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">orderReference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">The order reference should reflect the order reference found in the merchant’s systems.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="payeereference">
        
        
          PayeeReference <a href="#payeereference" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-plaintext highlighter-rouge">payeeReference</code> given when creating transactions and payments has some
specific processing rules depending on specifications in the contract.</p>

<ul>
  <li>It must be <strong>unique</strong> for every operation, used to ensure exactly-once
delivery of a transactional operation from the merchant system.</li>
  <li>Its length and content validation is dependent on whether the
<code class="language-plaintext highlighter-rouge">transaction.number</code> or the <code class="language-plaintext highlighter-rouge">payeeReference</code> is sent to the acquirer.
    <ol>
      <li>If you select <em>Option A</em> in the settlement process (Swedbank Pay will
handle the settlement), Swedbank Pay will send the <code class="language-plaintext highlighter-rouge">transaction.number</code> to
the acquirer and the <code class="language-plaintext highlighter-rouge">payeeReference</code> may have the format of <code class="language-plaintext highlighter-rouge">string(30)</code>.</li>
      <li>If you select <em>Option B</em> in the settlement process (you will handle the
settlement yourself), Swedbank Pay will send the <code class="language-plaintext highlighter-rouge">payeeReference</code> to the
acquirer and it will be limited to the format of <code class="language-plaintext highlighter-rouge">string(12)</code> and all
characters <strong>must be digits</strong>.</li>
    </ol>
  </li>
</ul>
    
      <h2 id="merchant-authenticated-consumer">
        
        
          Merchant Authenticated Consumer <a href="#merchant-authenticated-consumer" class="header-anchor"></a>
        
        
      </h2>

<div class="jumbotron">
    <p>When the consumer is identified and
authenticated by the merchant, the consumer’s identity can be included in the
Payment Order request.</p>

</div>

<p><strong>Merchant Authenticated Consumer</strong> is performed as an alternative to
<a href="/checkout/checkin">Checkin</a> when creating the Payment Order upon the initializaiont of
the <a href="/checkout/payment-menu">Payment Menu</a>. You can use Merchant Authenticated Consumer
only if you have an agreement with Swedbank Pay. The additional
<code class="language-plaintext highlighter-rouge">nationalIdentifier</code> property described below should be added to the
<code class="language-plaintext highlighter-rouge">paymentorder.payer</code> object already in the Payment Order creation request, as
an alternative to <code class="language-plaintext highlighter-rouge">consumerProfileRef</code>.</p>

<div class="alert alert-complex alert-warning">
    <header class="alert-header">
            
                <i class="material-icons alert-icon">warning</i>
      <h3>
        
        
          Bank ID
authentication required
        
        
      </header>
    

    
        
            <div class="alert-body">
                <p>In order to use the Merchant Authenticated
Consumer feature, you need a <strong>legal agreement with Swedbank Pay</strong> which
mandates that the consumer identified by the <code class="language-plaintext highlighter-rouge">nationalIdentifier</code> is
authenticated with <strong>Bank ID</strong> prior to the request.</p>
            </div>
        
    
</div>

<p>An example of how a Merchant Authenticated Consumer request looks like is
provided below (abbreviated for brevity):</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/psp/paymentorders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"nationalIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"socialSecurityNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"199710202392"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SE"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">✔︎︎︎︎︎</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">paymentorder</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The payment order object.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">payer</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">payer</code> object containing information about the payer relevant for the payment order.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└─➔ <code class="language-plaintext highlighter-rouge">nationalIdentifier</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The national identifier object.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-plaintext highlighter-rouge">socialSecurityNumber</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The consumers social security number. Must be part of what you get from your authentication process.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left">└──➔ <code class="language-plaintext highlighter-rouge">countryCode</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The countrycode of the consumer.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="settlement-and-reconciliation">
        
        
          Settlement and Reconciliation <a href="#settlement-and-reconciliation" class="header-anchor"></a>
        
        
      </h2>

<div class="jumbotron">
    <p>Reconciliation is an important step in an
economic transaction. When a payment is reconciled,  captured amounts for the
payment are matched against the corresponding settlement.</p>

</div>

<p>The information needed to reconcile captured funds - the balance report and
transactions list - are available for all merchants using Swedbank Pay. By default you
receive these files by e-mail, but it is also possible to get them via FTP
access. Contact <a href="mailto:omni.client@swedbankpay.se">omni.client@swedbankpay.se</a> for further
inquiries regarding this. The settlement frequency is defined in the agreement
and you will receive a report for each payout and/or invoice.</p>
    
      <h3 id="settlement">
        
        
          Settlement <a href="#settlement" class="header-anchor"></a>
        
        
      </h3>

<p>There are two main alternatives for settlement - either we handle the settlement
process for you, or you handle the process yourself :</p>
    
      <h4 id="swedbank-pay-handles-the-settlement-process">
        
        
          Swedbank Pay handles the settlement process <a href="#swedbank-pay-handles-the-settlement-process" class="header-anchor"></a>
        
        
      </h4>

<p>Swedbank Pay handles the settlement process on your behalf, (<em>called
“Redovisningsservice”</em>). Swedbank Pay transfers the net amount to you directly.</p>
    
      <h5 id="swedbank-pay-checkout">
        
        
          Swedbank Pay Checkout <a href="#swedbank-pay-checkout" class="header-anchor"></a>
        
        
      </h5>

<p>When choosing <a href="/checkout">Swedbank Pay Checkout</a> we always handle the
settlement process for you, gathering all your eCommerce payments in one place.
Straighforward and time efficient.</p>
    
      <h4 id="you-handle-the-settlement-process-yourself">
        
        
          You handle the settlement process yourself <a href="#you-handle-the-settlement-process-yourself" class="header-anchor"></a>
        
        
      </h4>

<p>If you will handle the settlement yourself, then Swedbank Pay will send you an
invoice with the relevant fees, in addition to the report and transactions
lists. Your acquirer will transfer settled funds to you.</p>
    
      <h4 id="balance-report">
        
        
          Balance Report <a href="#balance-report" class="header-anchor"></a>
        
        
      </h4>

<p>The Balance Report (a <em>.pdf file</em>) specifies the total sales for a specific
period, including fees and VAT. The report contains three parts: a payment
summary and specifications for sales and for fees.</p>
    
      <h5 id="payment-summary">
        
        
          Payment Summary <a href="#payment-summary" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a summary of the <code class="language-plaintext highlighter-rouge">Amount</code> sold, <code class="language-plaintext highlighter-rouge">Fees</code> and <code class="language-plaintext highlighter-rouge">VAT</code>. <strong>If Swedbank Pay
handles the settlement process</strong>, the <code class="language-plaintext highlighter-rouge">Transfered</code><code class="language-plaintext highlighter-rouge">amount</code> - shown in the
balance report summary is equivalent to the disbursement on the bank statement
(the remaining total amount after fees).</p>
    
      <h5 id="sales-specification">
        
        
          Sales specification <a href="#sales-specification" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a specification over sales for the given period. The sales total is
specified per payment area (<code class="language-plaintext highlighter-rouge">CreditCard</code>, <code class="language-plaintext highlighter-rouge">Invoice</code>) and
underlying payment instruments. Each sales row specify Quantity, Sum sales and
Amount to pay out, the last one is only eligble <strong>if Swedbank Pay handles the
Settlement process</strong>.</p>
    
      <h5 id="fees-specification">
        
        
          Fees specification <a href="#fees-specification" class="header-anchor"></a>
        
        
      </h5>

<p>Provides a specification over fees for the given period. The fees total is
specified per payment area (<code class="language-plaintext highlighter-rouge">CreditCard</code>, <code class="language-plaintext highlighter-rouge">Invoice</code>) and
underlying payment instruments. Each fees row specify <code class="language-plaintext highlighter-rouge">Quantity</code> (sales),
<code class="language-plaintext highlighter-rouge">Amount</code> (sales), <code class="language-plaintext highlighter-rouge">Unit price</code>, <code class="language-plaintext highlighter-rouge">Provision</code> and <code class="language-plaintext highlighter-rouge">fee Amount</code>. <strong>If you handle
the settlement process yourselves you will receive a separat invoice for fees</strong>.</p>
    
      <h4 id="transactions-list">
        
        
          Transactions List <a href="#transactions-list" class="header-anchor"></a>
        
        
      </h4>

<p>The Transaction List (provided in <code class="language-plaintext highlighter-rouge">.xlsx</code> and <code class="language-plaintext highlighter-rouge">.xml</code> formats) specifies all
transactions for a specific period, including a summary of transactions grouped
by payment instrument. Both formats contain the same information, but the xml
file is meant for computer processing while the excel workbook is meant for
human interaction.</p>

<p>The first row contains the name of the Swedbank Pay company (e.g. Swedbank Pay
Solutions AB) that the merchant has the contract with, and the balance report
number. The header fields contain a summary of the transactions displayed in the
body.</p>

<p class="code-header"><strong>Header fields</strong></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Prefix</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">Prefix</code> used for transactions, only eligible if merchant uses prefix.</td>
    </tr>
    <tr>
      <td style="text-align: left">Currency</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 4217</code></td>
      <td style="text-align: left">Settlement currency (e.g. <code class="language-plaintext highlighter-rouge">SEK, NOK, EUR</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ServiceType</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The service type of the service used (e.g. <code class="language-plaintext highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Service</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The service used (e.g. <code class="language-plaintext highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">NoOfDebet</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total number of debit transactions for the given service.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">NoOfCredit</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total number of credit transactions for the given service.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total amount for the given service (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">FromDate</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">The earlistest transaction date, <code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ToDate</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">The latest transaction date, <code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code>.</td>
    </tr>
  </tbody>
</table>

<p class="code-header"><strong>Body fields</strong></p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Swedbank Pay Batch Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">A batch number common to all types of transactions processed by PayEx.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Transaction Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">A unique identifier of the transaction, can be traced in Swedbank Pay Admin user interface.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Order id</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">A unique identifier of the order, as sent from the merchant to PayEx. Transactions that are related to the same order are associated with this ID.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Date Created</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">Transaction capture date/time. YYYY-MM-DD hh:mm:ss.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Date Modified</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 8601</code></td>
      <td style="text-align: left">Transaction settle date/time. YYYY-MM-DD hh:mm:ss.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Provider</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The service provider (e.g. Babs, Swedbank).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The service type of the related transaction (e.g. <code class="language-plaintext highlighter-rouge">Creditcard</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Total amount of the related transaction (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Currency</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ISO 4217</code></td>
      <td style="text-align: left">Settlement currency (e.g. <code class="language-plaintext highlighter-rouge">SEK, NOK, EUR</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Product Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">A product number, as sent by merchant to PayEx.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">A textual description of the transaction, as sent by merchant to PayEx.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">VAT Amount</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">VAT Amount for the given transaction (e.g 100.00).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">VAT Percentage</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">VAT Percentage for the given transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Credit Card Batch Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The reference number from the credit card processor.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Reference</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The transaction reference from processor.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Swedbank Pay Account Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">The Account number given, shown in Swedbank Pay admin.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Referenced Transaction Number</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Decimal</code></td>
      <td style="text-align: left">Transaction number for the Authoriation transaction for a two-stage transaction or the number of the debit transaction if it is a credit transaction.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Sales Channel</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">The channel through which the transaction was sent to Swedbank Pay (e.g Transaction via eCommerce APIs).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Brand</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">If eligible, Branding information as sent by merchant to PayEx.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Point Of Sale</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: left">If eligible, POS information as sent by merchant to PayEx.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="reconciliation">
        
        
          Reconciliation <a href="#reconciliation" class="header-anchor"></a>
        
        
      </h3>

<p>To do the reconciliation, you need to match the information in your system
against the information provided by Swedbank Pay in the balance report and
transaction list. Below is a sequence diagram detailing the interaction.</p>

<pre><code class="language-mermaid">sequenceDiagram
    participant SwedbankPay as Swedbank Pay

    activate Merchant
    activate SwedbankPay
    Merchant--&gt;&gt;SwedbankPay: Online payment transactions
    deactivate Merchant

    deactivate SwedbankPay

    activate Merchant

    SwedbankPay-&gt;&gt;Merchant: Balance Report (PDF-file)
    note left of Merchant: files are sent by e-mail or file transfer
    SwedbankPay-&gt;&gt;Merchant: Transaction list (XLSX-file)
    SwedbankPay-&gt;&gt;Merchant: Transaction list (XML-file)
    deactivate Merchant
</code></pre>

<p><strong>There are two ways</strong> for you to match the information from your system with
the information given in the reconciliation files from Swedbank Pay:</p>

<ol>
  <li>You can use information <strong>generated by your</strong> system (you will have to set a
unique payeeReference when you make the transaction), or</li>
  <li>You can use the transaction number <strong>generated by Swedbank Pay</strong> (this is called
transaction number and is returned from Swedbank Pay after you have created
the transaction).</li>
</ol>

<p>A credit card transaction is made when you either make a capture or a reversal.
In the input data for making a capture, you will set the <code class="language-plaintext highlighter-rouge">payeeReference</code>. The
unique value of this field is the same as the field called <code class="language-plaintext highlighter-rouge">OrderID</code> in the
reconciliation file.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">transaction</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">vatAmount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test Reversal</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">payeeReference</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ABC123</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When you receive the response from Swedbank Pay, the response will include
<code class="language-plaintext highlighter-rouge">transaction.number</code>. This is the same as the field called <code class="language-plaintext highlighter-rouge">TransactionNo</code> in
the reconciliation file.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">payment</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">capture</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures/ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">transaction</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions/ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2016-09-14T01:01:01.01Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2016-09-14T01:01:01.03Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Capture</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">state</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Initialized</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1234567890</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">vatAmount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test Capture</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">payeeReference</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ABC123</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">failedReason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">isOperational</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">operations</span><span class="dl">"</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">payeeReference</code> sent to Swedbank Pay is equal to <code class="language-plaintext highlighter-rouge">OrderId</code> in the
reconciliation file.</li>
  <li><code class="language-plaintext highlighter-rouge">capture.transaction.number</code> returned from Swedbank Pay is equal to
<code class="language-plaintext highlighter-rouge">TransactionNo</code> in reconciliation file.</li>
</ul>
    
      <h3 id="samples">
        
        
          Samples <a href="#samples" class="header-anchor"></a>
        
        
      </h3>

<p>The content of the files depends on the type of agreement you have made with
Swedbank Pay. For some payment instruments, only option A is available, while for other
payment instruments, only option B is available. The sample files can be
downloaded below.</p>
    
      <h4 id="option-a-swedbank-pay-handles-the-settlement-process">
        
        
          Option A: Swedbank Pay handles the settlement process <a href="#option-a-swedbank-pay-handles-the-settlement-process" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li><strong><a href="/assets/documents/testredovisning-payexcheckout.pdf">PDF Balance Report for Swedbank Pay Checkout</a></strong></li>
  <li><a href="assets/documents/r1234-0001-redov.service.pdf">PDF Balance Report</a></li>
  <li><a href="/assets/documents/transaktionsstatistik-redovisningsservice.xlsx">XLSX Transaction List</a></li>
  <li><a href="/assets/documents/transaktionsstatistik-redovisningsservice.xml">XML Transaction List</a></li>
</ul>
    
      <h4 id="option-b-you-will-handle-the-settlement-process-yourself">
        
        
          Option B: You will handle the settlement process yourself <a href="#option-b-you-will-handle-the-settlement-process-yourself" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li><a href="assets/documents/r1234-0001-eget-konto.pdf">PDF Balance Report</a></li>
  <li><a href="assets/documents/r1234-0001-eget-konto.pdf">XLSX Transaction List</a></li>
  <li><a href="assets/documents/testredovisning-eget-konto.xlsx">XML Transaction List</a></li>
</ul>
    
      <h3 id="split-settlement">
        
        
          Split Settlement <a href="#split-settlement" class="header-anchor"></a>
        
        
      </h3>

<p>The prefix split is the easy way of doing settlements for companies with
multiple sub merchants. With only a few easy steps, you can make the settlement
process more efficient with regards to invoicing, payouts and setup for both
your sub merchants and yourself.</p>

<p>In short, it is a settlement feature where a company with a website or an app
can attach specific prefix numbers to sub merchants selling their goods or
services through the company. The prefix number is used to match the
transactions and the merchant, so the settlement is automatically split between
the sub merchants. If you run a site selling tickets to concerts, theatres,
sporting events etc., each venue gets its own prefix number. If you run a
funeral home, the sub merchants can be everything from flower delivery to
charities.</p>
    
      <h4 id="what-we-need-from-you-as-a-company">
        
        
          What we need from you as a company <a href="#what-we-need-from-you-as-a-company" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>Send us a KYC form for each sub merchant you want to include. We will also do
a KYC check on your sub merchants, providing extra security for you.</li>
  <li>Give every sub merchant who sells goods/services at your website or in your
app a unique prefix number. This needs to be included in the KYC form you send
to us. We recommend using the same customer number they have in your system.</li>
  <li>Attach the prefix number to all the goods/services the sub merchant
sells through your website or app, so the goods/services can be matched to the
correct merchant in our back office system.</li>
  <li>A partner agreement is needed for the automatic deduction of revenue cuts and
fees.</li>
</ul>
    
      <h4 id="how-it-works">
        
        
          How it works <a href="#how-it-works" class="header-anchor"></a>
        
        
      </h4>

<ol>
  <li>We set up the sub merchant prefix in our systems.</li>
  <li>The prefix number is added in the subsite field in the API call when you
create the payment for the goods or service.</li>
  <li>The customer selects payment instrument and completes the payment.</li>
  <li>The payment goes into the client funds account.</li>
  <li>Swedbank Pay matches the transaction and the merchant using the prefix
number.</li>
  <li>The settlement is split and connected to the correct merchant.</li>
  <li>Revenue cuts for the super merchant and fees from Swedbank Pay are deducted
automatically.</li>
  <li>Payout to the sub merchant is done.</li>
</ol>
    
      <h4 id="the-upsides">
        
        
          The upsides <a href="#the-upsides" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>Since the sub merchants are connected to Swedbank Pay through the super
merchant instead of having separate setups, this means that you:</li>
  <li>Only need one agreement for credit card, Vipps, Swish,
MobilePay, invoice and payment gateway.</li>
  <li>Only need one acquiring agreement.</li>
  <li>Only need one Vipps/Swish certificate.</li>
  <li>Can add more payment instruments easily, as it only has to be done once.</li>
  <li>Can set up new sub merchants quickly, as the only thing needed is a KYC
form and a prefix number. This shortens the setup time for both you and us
to a matter of hours.</li>
  <li>The automatic settlement split and deduction of fees and revenue cuts
minimizes the work for your accounting department, as you do not have to
invoice your sub merchants.</li>
  <li>The prefix split is available with all the payment instruments we offer on our
eCom platform.</li>
</ul>
    
      <h4 id="good-to-know">
        
        
          Good to know <a href="#good-to-know" class="header-anchor"></a>
        
        
      </h4>

<p>With regards to admin functions, we offer a full integration towards our admin
system. This way, you do not have to log in to Swedbank Pay Admin to perform
these operations.</p>
    
      <h5 id="captures-and-cancels">
        
        
          Captures and cancels <a href="#captures-and-cancels" class="header-anchor"></a>
        
        
      </h5>

<p>Captures and cancels are done by the super merchant the same way as any other
normal flow.</p>
    
      <h5 id="reversals">
        
        
          Reversals <a href="#reversals" class="header-anchor"></a>
        
        
      </h5>

<p>In cases where you need to do reversals, this will be performed by the super
merchant. The reversal amount will be charged from the sub merchants prefix. If
the sub merchants balance is 0 (zero), the super merchant will be invoiced. The
super merchant will in turn have to invoice this amount to the sub merchant.</p>
    
      <h2 id="updating-payment-menu">
        
        
          Updating Payment Menu <a href="#updating-payment-menu" class="header-anchor"></a>
        
        
      </h2>

<p>When the contents of the shopping cart changes or anything else that affects
the amount occurs, the <code class="language-plaintext highlighter-rouge">paymentorder</code> must be updated and the Payment Menu
must be <code class="language-plaintext highlighter-rouge">refresh</code>ed.</p>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Features that are not
described in the previous sections must not be used, although they are
available in the API. Flags that can be turned to <code class="language-plaintext highlighter-rouge">true</code> must be kept
<code class="language-plaintext highlighter-rouge">false</code> as described in this standard setup documentation.</p>
        
    
</div>

<div class="alert  alert-neutral">
    
        
            <i class="material-icons alert-icon">info</i>
        
    

    
        
            <p>Your integration must be
resilient to change. Properties, operations, headers, etc., that aren’t
understood in any response <strong>must be ignored</strong>. Don’t expect a specific order of
elements. When in doubt, please follow the <a href="https://en.wikipedia.org/wiki/Robustness_principle">robustness principle</a>.</p>
        
    
</div>

<nav class="iterator d-flex">
    
        <a class="mr-auto btn btn-guiding" role="button" rel="prev" href="after-payment">
            Back: After Payment
        </a>
    

    
</nav>
                                    
                                </div>

                                <div class="col-2 d-none d-lg-block">
                                    <nav class="doc-toc">
                                        <ul>
  <li class="toc-2"><a href="#payment-orders">Payment Orders</a></li>
  <li class="toc-2"><a href="#operations">Operations</a></li>
  <li class="toc-2"><a href="#capture">Capture</a></li>
  <li class="toc-2"><a href="#recurring-payments">Recurring Payments</a></li>
  <li class="toc-2"><a href="#purchase-payments">Purchase Payments</a></li>
  <li class="toc-2"><a href="#verify-payments">Verify Payments</a></li>
  <li class="toc-2"><a href="#payments-resource">Payments Resource</a></li>
  <li class="toc-2"><a href="#prices">Prices</a></li>
  <li class="toc-2"><a href="#checkin-events">Checkin Events</a></li>
  <li class="toc-2"><a href="#enable-or-disable-payment-menu">Enable or Disable Payment Menu</a></li>
  <li class="toc-2"><a href="#payment-menu-events">Payment Menu Events</a></li>
  <li class="toc-2"><a href="#callback">Callback</a></li>
  <li class="toc-2"><a href="#problems">Problems</a></li>
  <li class="toc-2"><a href="#payeeinfo">PayeeInfo</a></li>
  <li class="toc-2"><a href="#merchant-authenticated-consumer">Merchant Authenticated Consumer</a></li>
  <li class="toc-2"><a href="#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
  <li class="toc-2"><a href="#updating-payment-menu">Updating Payment Menu</a></li>
</ul>

                                    </nav>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>

            <footer class="page-footer">
                <p class="page-footer-rights">© Swedbank Pay</p>
            </footer>
        </div>

        <script src="https://design.swedbankpay.com/v/4.3.0/scripts/dg.js"></script>
        <script src="/assets/js/prism.js" data-manual></script>
        <script src="/assets/js/swedbank-pay-design-guide-theme.js"></script>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156582708-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156582708-1');
</script>

        
    </body>

</html>