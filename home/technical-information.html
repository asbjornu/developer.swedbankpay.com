


<!DOCTYPE html>
<html lang="en-US">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#000">
        <meta name="application-name" content="Swedbank Pay Developer Portal">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title"
            content="Swedbank Pay Developer Portal">
        <meta name="msapplication-TileColor" content="#000">
        <meta name="msapplication-TileImage" content="https://design.swedbankpay.com/v/4.3.0/icons/mstile-144x144.png">
        <meta property="og:type" value="website" />
        
        <meta property="og:url" value="https://developer.swedbankpay.com/home/technical-information.html" />
        <meta property="og:title" value="Swedbank Pay Developer Portal" />
        <meta name="title" content="Swedbank Pay Developer Portal" />
        
        <meta property="og:description" value="Swedbank Pay Developer Portal" />
        <meta name="description" content="Swedbank Pay Developer Portal" />
        
        <meta property="og:image" value="/assets/img/swedbank-pay-developer-portal.png" />
        <title>Swedbank Pay Developer Portal</title>
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/4.3.0/styles/dg-style.css" />
        <link rel="stylesheet" href="/assets/css/swedbank-pay-design-guide-theme.css" />
        <link rel="stylesheet" href="/assets/css/prism.css" />
        <link rel="shortcut icon" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon.ico">
        <link rel="icon" type="image/png" sizes="16x16" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://design.swedbankpay.com/v/4.3.0/icons/favicon-32x32.png">
        <link rel="apple-touch-icon" sizes="57x57"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="167x167"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-167x167.png">
        <link rel="apple-touch-icon" sizes="180x180"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-180x180.png">
        <link rel="apple-touch-icon" sizes="1024x1024"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-icon-1024x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-320x460.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-640x920.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-640x1096.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-750x1294.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1182x2208.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1242x2148.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-748x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-768x1004.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1496x2048.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.3.0/icons/apple-touch-startup-image-1536x2008.png">
        <link rel="icon" type="image/png" sizes="228x228" href="https://design.swedbankpay.com/v/4.3.0/icons/coast-228x228.png">
        <script src="/assets/js/mermaid.min.js"></script>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
        <script src="/assets/tipuesearch/tipuesearch.min.js"></script>
        
    </head>

    <body>
        <div id="designguide">
            <header class="topbar topbar-md-wide designguide-header">
                <button type="button" class="topbar-btn"><i class="material-icons topbar-btn-icon">menu</i></button>
                <a href="https://developer.swedbankpay.com" class="topbar-logo"><img
                        src="https://design.swedbankpay.com/v/4.3.0/img/swedbankpay-logo.svg" alt="logo"></a>
                <nav class="topbar-nav">
                    <div class="topbar-link-container">
                        <button type="button" class="topbar-close"><i class="material-icons">close</i></button>

                        
                        

                        

                        <a 
                            href="/"><span>Home</span></a>

                        
                        
                        <a 
                            href="/checkout/"><span>Checkout</span></a>
                        
                        
                        <a 
                            href="/payments/"><span>Payments</span></a>
                        
                        
                        <a 
                            href="/resources/"><span>Resources</span></a>
                        

                        <div class="topbar-info topbar-link-right">
                            <div class="topbar-info-contact">
                                <a href="https://github.com/SwedbankPay/developer.swedbankpay.com/tree/master/home/technical-information.md" target="_blank"
                                    rel="noopener noreferrer" title="Edit this page on GitHub">
                                    <svg aria-labelledby="simpleicons-github-icon" role="img" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <title id="simpleicons-github-icon">Edit this page on GitHub</title>
                                        <path
                                            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>

            <div class="documentation">
                <div class="row">
                    <div class="col-xxl-2 col-md-3">
                        <div class="doc-sidebar">
                            
                            <form class="doc-search" action="/search">
                                <input type="text" class="form-control" name="q" id="tipue_search_input"
                                    placeholder="Search..." autocomplete="off" pattern=".{3,}"
                                    title="At least 3 characters">
                            </form>
                            
                            
                            <nav class="documentation-nav">
                                
                                
                                <div class="nav-group active">
                                    <div class="nav-heading">
                                        <i class="material-icons">keyboard_arrow_right</i>
                                        <span>Home</span>
                                    </div>

                                    
                                    <ul>
                                        
                                        
                                        <li><a  aria-current="page" class="active"
                                                 href="/home/technical-information"><span>Technical Information</span></a></li>
                                        
                                    </ul>
                                    
                                </div>
                                
                            </nav>
                            
                        </div>
                    </div>

                    <main class="doc-view col-xxl-10 col-md-9">
                        <div class="doc-container">
                            <h1>Swedbank Pay Developer Portal</h1>
                            <div class="row">
                                <div class="doc-body col-lg-10">
                                    
                                    <h2 id="connection-and-protocol">
        
        
          Connection and Protocol <a href="#connection-and-protocol" class="header-anchor"></a>
        
        
      </h2>

<p>All requests towards Swedbank Pay API Platform are made with <strong>HTTP/1.1</strong> over
a secure a <strong>TLS 1.2</strong> (or higher) connection. Older HTTP clients running on
older operating systems and frameworks might receive connection errors when
connecting to Swedbank Pay’s APIs. This is most likely due to the connection
being made from the client with TLS 1.0 or even SSL, which are all insecure and
deprecated. If such is the case, ensure that you are able to connect over a
TLS 1.2 connection by reading information regarding your programming languages
and environments (<a href="https://blogs.oracle.com/java-platform-group/jdk-8-will-use-tls-12-as-default">Java</a>, <a href="https://stackoverflow.com/a/32926813/61818">PHP Curl</a>,
<a href="https://zend18.zendesk.com/hc/en-us/articles/219131697-HowTo-Implement-TLS-1-2-Support-with-the-cURL-PHP-Extension-in-Zend-Server">PHP Zend</a>, <a href="https://stackoverflow.com/a/11059873/61818">Ruby</a>, <a href="https://docs.python.org/2/library/ssl.html#ssl.PROTOCOL_TLSv1_2">Python</a>,
<a href="https://stackoverflow.com/a/44635449/61818">Node.js Request</a>).</p>

<p>You can inspect <a href="https://www.ssllabs.com/ssltest/analyze.html?d=api.payex.com">Swedbank Pay’s TLS and cipher suite</a> support at
SSL Labs. Support for HTTP/2 in our APIs is being investigated.</p>
    
      <h2 id="headers">
        
        
          Headers <a href="#headers" class="header-anchor"></a>
        
        
      </h2>

<p>All requests against the API Platform should have a few common headers:</p>

<p class="code-header"><strong>HTTP request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/some/resource</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/problem+json; q=1.0, application/json; q=0.9</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">"Bearer 123456781234123412341234567890AB"</span>
<span class="na">Session-Id</span><span class="p">:</span> <span class="s">779da454399742248f2942bb064c4707</span>
<span class="na">Forwarded</span><span class="p">:</span> <span class="s">for=82.115.151.177; host=example.com; proto=https</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Required</th>
      <th style="text-align: left">Header</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left"><strong><code class="language-plaintext highlighter-rouge">Content-Type</code></strong></td>
      <td style="text-align: left">The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type">content type</a> of the body of the HTTP request. Usually set to <code class="language-plaintext highlighter-rouge">application/json</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left"><strong><code class="language-plaintext highlighter-rouge">Accept</code></strong></td>
      <td style="text-align: left">The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type">content type</a> accepted by the client. Usually set to <code class="language-plaintext highlighter-rouge">application/json</code> and <code class="language-plaintext highlighter-rouge">application/problem+json</code> so both regular responses as well as errors can be received properly.</td>
    </tr>
    <tr>
      <td style="text-align: center">✔︎</td>
      <td style="text-align: left"><strong><code class="language-plaintext highlighter-rouge">Authorization</code></strong></td>
      <td style="text-align: left">The OAuth 2 Access Token is generated in <a href="https://admin.externalintegration.payex.com/psp/login">Swedbank Pay Admin</a>. See the <a href="#">admin guide</a> on how to get started.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><strong><code class="language-plaintext highlighter-rouge">Session-Id</code></strong></td>
      <td style="text-align: left">A trace identifier used to trace calls through the API Platform (ref <a href="https://tools.ietf.org/html/rfc7329">RFC 7329</a>). Each request must mint a new <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">GUID/UUID</a>. If no <code class="language-plaintext highlighter-rouge">Session-Id</code> is provided, Swedbank Pay will generate one for the request.</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: left"><strong><code class="language-plaintext highlighter-rouge">Forwarded</code></strong></td>
      <td style="text-align: left">The IP address of the consumer as well as the host and protocol of the consumer-facing web page. When the header is present, only the <code class="language-plaintext highlighter-rouge">for</code> parameter containing the consumer IP address is required, the other parameters are optional. See <a href="https://tools.ietf.org/html/rfc7239">RFC 7239</a> for details.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="uri-usage">
        
        
          URI Usage <a href="#uri-usage" class="header-anchor"></a>
        
        
      </h2>

<p>The base URIs of the API Platform are:</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Environment</th>
      <th style="text-align: left">Base URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><a href="https://api.externalintegration.payex.com/"><strong>Test</strong></a></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">https://api.externalintegration.payex.com/</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://api.payex.com/"><strong>Production</strong></a></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">https://api.payex.com/</code></td>
    </tr>
  </tbody>
</table>

<p>An important part of REST is its use of <strong>hypermedia</strong>. Instead of having to
perform complex state management and hard coding URIs and the availability of
different operations in the client, this task is moved to the server. The
client simply follows links and performs operations provided by the API, given
the current state of the resource. The server controls the state and lets the
client know through hypermedia what’s possible in the current state of the
resource. To get an <a href="https://www.youtube.com/watch?v=QIv9YR1bMwY">introduction to <strong>hypermedia</strong>, please watch this 20 minute video</a>.</p>

<div class="alert alert-complex alert-warning">
    <header class="alert-header">
            
                <i class="material-icons alert-icon">warning</i>
      <h3>
        
        
          Don’t build URIs
        
        
      </header>
    

    
        
            <div class="alert-body">
                <p>It is very important that only the base URIs of Swedbank Pay’s APIs are stored
in your system. All other URIs are returned dynamically in the response.
Swedbank Pay cannot guarantee that your implementation will remain working if
you store any other URIs in your system. When performing requests, please make
sure to use the complete URIs that are returned in the response.
<strong>Do not attempt to parse or build</strong> upon the returned data – you should not
put any special significance to the information you might glean from an URI.
URIs should be treated as opaque identifiers you can use to retrieve the
identified resource – nothing more, nothing less. If you don’t follow this
advice, your integration most assuredly will break when Swedbank Pay makes
updates in the future.</p>
            </div>
        
    
</div>
    
      <h2 id="uniform-responses">
        
        
          Uniform Responses <a href="#uniform-responses" class="header-anchor"></a>
        
        
      </h2>

<p>When a <code class="language-plaintext highlighter-rouge">POST</code> or <code class="language-plaintext highlighter-rouge">PATCH</code> request is performed, the whole target resource
representation is returned in the response, as when performing a <code class="language-plaintext highlighter-rouge">GET</code>
request on the resource URI. This is an economic approach that limits the
number of necessary <code class="language-plaintext highlighter-rouge">GET</code> requests.</p>
    
      <h2 id="expansion">
        
        
          Expansion <a href="#expansion" class="header-anchor"></a>
        
        
      </h2>

<p>The payment resource contain the ID of related sub-resources in its response
properties. These sub-resources can be expanded inline by using the request
parameter <code class="language-plaintext highlighter-rouge">expand</code>. This is an effective way to limit the number of necessary
calls to the API, as you return several properties related to a Payment
resource in a single request.</p>

<p>Note that the <code class="language-plaintext highlighter-rouge">expand</code> parameter is available to all API requests but only
applies to the request response. This means that you can use the expand
parameter on a <code class="language-plaintext highlighter-rouge">POST</code>  or <code class="language-plaintext highlighter-rouge">PATCH</code>request to get a response containing the
target resource including expanded properties.</p>

<p>This example below add the <code class="language-plaintext highlighter-rouge">urls</code> and <code class="language-plaintext highlighter-rouge">authorizations</code> property inlines to the
response, enabling you to access information from these sub-resources.</p>

<p class="code-header"><strong>HTTP request with expansion</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1?$expand=urls,authorizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
</code></pre></div></div>

<p>To avoid unnecessary overhead, you should only expand the nodes you need info
about.</p>
    
      <h2 id="data-types">
        
        
          Data Types <a href="#data-types" class="header-anchor"></a>
        
        
      </h2>

<p>Some datatypes, like currency, dates and amounts, are managed in a coherent
manner across the entire API Platform.</p>
    
      <h3 id="currency">
        
        
          Currency <a href="#currency" class="header-anchor"></a>
        
        
      </h3>

<p>All currencies are expressed according to the <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> standard,
e.g <code class="language-plaintext highlighter-rouge">SEK</code>, <code class="language-plaintext highlighter-rouge">EUR</code>, <code class="language-plaintext highlighter-rouge">NOK</code>.</p>
    
      <h3 id="dates">
        
        
          Dates <a href="#dates" class="header-anchor"></a>
        
        
      </h3>

<p>All dates are expressed according to the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> standard that
combine dates, time and timezone data into a string, e.g. <code class="language-plaintext highlighter-rouge">2018-09-14T13:21:57.6627579Z</code>.</p>
    
      <h3 id="locale">
        
        
          Locale <a href="#locale" class="header-anchor"></a>
        
        
      </h3>

<p>When defining locale, we use the combination of language
(<a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1</a>) and country codes (<a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166</a>), e.g.
<code class="language-plaintext highlighter-rouge">nb-NO</code>, <code class="language-plaintext highlighter-rouge">sv-SE</code>, <code class="language-plaintext highlighter-rouge">en-US</code>.</p>
    
      <h3 id="monetary-amounts">
        
        
          Monetary Amounts <a href="#monetary-amounts" class="header-anchor"></a>
        
        
      </h3>

<p>All monetary amounts are entered in the lowest momentary units of the selected
currency. The amount of SEK and NOK are in ören/ører, and EUR is in cents.
Another way to put it is that the code amount is expressed as if the true
amount is multiplied by 100.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: right">True amount</th>
      <th style="text-align: right">Code amount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">NOK 100.00</td>
      <td style="text-align: right"><code class="language-plaintext highlighter-rouge">10000</code></td>
    </tr>
    <tr>
      <td style="text-align: right">SEK 50.00</td>
      <td style="text-align: right"><code class="language-plaintext highlighter-rouge">5000</code></td>
    </tr>
    <tr>
      <td style="text-align: right">€ 10.00</td>
      <td style="text-align: right"><code class="language-plaintext highlighter-rouge">1000</code></td>
    </tr>
  </tbody>
</table>
    
      <h2 id="operations">
        
        
          Operations <a href="#operations" class="header-anchor"></a>
        
        
      </h2>

<p>When a resource is created and during its lifetime, it will have a set of
operations that can be performed on it. Which operations that are available
in a given state varies depending on payment instrument used, what the access
token is authorized to do, etc. A subset of possible operations are described
below. Visit the technical reference page of a payment instrument for
instrument specific operations.</p>

<p class="code-header"><strong>JSON with Operations</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">payment</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
    <span class="dl">"</span><span class="s2">operations</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://api.externalintegration.payex.com/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">update-payment-abort</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PATCH</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://ecom.externalintegration.payex.com/creditcard/payments/authorize/afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">redirect-authorization</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://ecom.externalintegration.payex.com/swish/core/scripts/client/px.swish.client.js?token=afccf3d0016340620756d5ff3e08f69b555fbe2e45ca71f4bd159ebdb0f00065</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">view-payment</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contentType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/javascript</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.externalintegration.payex.com/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">rel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">create-capture</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">href</code></td>
      <td style="text-align: left">The target URI to perform the operation against.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">rel</code></td>
      <td style="text-align: left">The name of the relation the operation has to the current resource.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">method</code></td>
      <td style="text-align: left">The HTTP method to use when performing the operation.</td>
    </tr>
  </tbody>
</table>

<p><strong>The operations should be performed as described in each response and not as
described here in the documentation</strong>. Always use the <code class="language-plaintext highlighter-rouge">href</code> and <code class="language-plaintext highlighter-rouge">method</code> as
specified in the response by finding the appropriate operation based on its
<code class="language-plaintext highlighter-rouge">rel</code> value.</p>
    
      <h3 id="payeereference">
        
        
          PayeeReference <a href="#payeereference" class="header-anchor"></a>
        
        
      </h3>

<p>The <code class="language-plaintext highlighter-rouge">payeeReference</code> given when creating transactions and payments has some
specific processing rules depending on specifications in the contract.</p>

<ul>
  <li>It must be <strong>unique</strong> for every operation, used to ensure exactly-once
delivery of a transactional operation from the merchant system.</li>
  <li>Its length and content validation is dependent on whether the
<code class="language-plaintext highlighter-rouge">transaction.number</code> or the <code class="language-plaintext highlighter-rouge">payeeReference</code> is sent to the acquirer.
    <ol>
      <li>If you select <em>Option A</em> in the settlement process (Swedbank Pay will
handle the settlement), Swedbank Pay will send the <code class="language-plaintext highlighter-rouge">transaction.number</code> to
the acquirer and the <code class="language-plaintext highlighter-rouge">payeeReference</code> may have the format of <code class="language-plaintext highlighter-rouge">string(30)</code>.</li>
      <li>If you select <em>Option B</em> in the settlement process (you will handle the
settlement yourself), Swedbank Pay will send the <code class="language-plaintext highlighter-rouge">payeeReference</code> to the
acquirer and it will be limited to the format of <code class="language-plaintext highlighter-rouge">string(12)</code> and all
characters <strong>must be digits</strong>.</li>
    </ol>
  </li>
</ul>

<p><a href="#">Read more about the settlement process here</a>.</p>
    
      <h2 id="callback">
        
        
          Callback <a href="#callback" class="header-anchor"></a>
        
        
      </h2>

<p>When a change or update from the back-end system are made on a payment or
transaction, Swedbank Pay will perform a callback to inform the payee (merchant)
about this update.</p>

<ul>
  <li>Setting a <code class="language-plaintext highlighter-rouge">callbackUrl</code> in the HTTP <code class="language-plaintext highlighter-rouge">POST</code> API is optional, but highly
recommended. If a payer closes the browser window, a network error or
something else happens that prevents the payer from being redirect from
Swedbank Pay back to the merchant website, the callback is what ensures that
you receive information about what happened with the payment.</li>
  <li>When a change or update from the back-end system are made on a payment or
transaction, Swedbank Pay will perform an asynchronous server-to-server
callback to inform the payee (merchant) about this update.</li>
  <li>Swedbank Pay will make an HTTP <code class="language-plaintext highlighter-rouge">POST</code> to the <code class="language-plaintext highlighter-rouge">callbackUrl</code> that was specified
when the payee (merchant) created the payment.</li>
  <li>When the <code class="language-plaintext highlighter-rouge">callbackUrl</code> receives such a callback, an <code class="language-plaintext highlighter-rouge">HTTP</code> <code class="language-plaintext highlighter-rouge">GET</code> request must
be made on the payment or on the transaction. The retrieved payment or
transaction resource will give you the necessary information about the recent
change/update.</li>
  <li>The callback will be retried if it fails. Below are the retry timings, in
seconds from the initial transaction time:
    <ul>
      <li>30 seconds</li>
      <li>60 seconds</li>
      <li>360 seconds</li>
      <li>432 seconds</li>
      <li>864 seconds</li>
      <li>1265 seconds</li>
    </ul>
  </li>
  <li>The callback is sent from the following IP address: <code class="language-plaintext highlighter-rouge">82.115.146.1</code></li>
  <li>A callback should return a <code class="language-plaintext highlighter-rouge">200 OK</code> response.</li>
</ul>

<p class="code-header"><strong>Payment Instrument Callback</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">payment</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">222222222</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">transaction</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/psp/creditcard/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/&lt;transaction type&gt;/ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="mi">333333333</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">&lt;transaction type&gt;</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">authorizations</code>, <code class="language-plaintext highlighter-rouge">captures</code>, <code class="language-plaintext highlighter-rouge">cancellations</code>, <code class="language-plaintext highlighter-rouge">reversals</code></td>
    </tr>
  </tbody>
</table>

<p>The sequence diagram below shows the HTTP <code class="language-plaintext highlighter-rouge">POST</code> you will receive from Swedbank
Pay, and the two <code class="language-plaintext highlighter-rouge">GET</code> requests that you make to get the updated status.</p>

<pre><code class="language-mermaid">sequenceDiagram
    Participant Merchant
    Participant SwedbankPay as Swedbank Pay

    activate SwedbankPay
    SwedbankPay-&gt;&gt;+Merchant: POST &lt;callbackUrl&gt;
    deactivate SwedbankPay
    note left of Merchant: Callback by Swedbank Pay
    Merchant--&gt;&gt;+SwedbankPay: HTTP response
    Merchant-&gt;&gt;+SwedbankPay: GET creditcard payment
    deactivate Merchant
    note left of Merchant: First API request
    SwedbankPay--&gt;&gt;+Merchant: payment resource
    deactivate SwedbankPay
</code></pre>
    
      <h2 id="problems">
        
        
          Problems <a href="#problems" class="header-anchor"></a>
        
        
      </h2>

<p>When performing operations against the API, it will respond with a problem
message that contain details of the error type if the request could not be
successfully performed. Regardless of why the error occurred, the problem
message will follow the same structure as specified in the
<a href="https://tools.ietf.org/html/rfc7807">Problem Details for HTTP APIs (RFC 7807)</a> specification.</p>

<p>The structure of a problem message will look like this:</p>

<p class="code-header"><strong>Problem Example</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.payex.com/psp/errordetail/creditcard/inputerror</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">title</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">There was an input error</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">detail</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Please correct the errors and retry the request</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">instance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ec2a9b09-601a-42ae-8e33-a5737e1cf177</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">action</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">RetryNewData</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">problems</span><span class="dl">"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreditCardParameters.Issuer</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">minimum one issuer must be enabled</span><span class="dl">"</span>
    <span class="p">}]</span>
<span class="p">}</span>
</code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that identifies the error type. This is the <strong>only property usable for programmatic identification</strong> of the type of error! When dereferenced, it might lead you to a human readable description of the error and how it can be recovered from.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">title</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The title contains a human readable description of the error.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">detail</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">A detailed, human readable description of the error and how you can recover from it.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">instance</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The identifier of the error instance. This might be of use to Swedbank Pay support personnel in order to find the exact error and the context it occurred in.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">status</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td>
      <td style="text-align: left">The HTTP status code that the problem was served with.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">action</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The <code class="language-plaintext highlighter-rouge">action</code> indicates how the error can be recovered from.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">problems</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of problem detail objects.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">name</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the property, header, object, entity or likewise that was erroneous.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-plaintext highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td>
      <td style="text-align: left">The human readable description of what was wrong with the property, header, object, entity or likewise identified by <code class="language-plaintext highlighter-rouge">name</code>.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="common-problems">
        
        
          Common Problems <a href="#common-problems" class="header-anchor"></a>
        
        
      </h3>

<p>All common problem types will have a URI in the format
<code class="language-plaintext highlighter-rouge">https://api.payex.com/psp/errordetail/&lt;payment-instrument&gt;/&lt;error-type&gt;</code>. The
<strong>URI is an identifier</strong> that you can hard-code and implement logic around. It
is currently not not possible to dereference this URI, although that might be
possible in the future.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Type</th>
      <th style="text-align: center">Status</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">inputerror</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">400</code></td>
      <td style="text-align: left">The server cannot or will not process the request due to an apparent client error (e.g. malformed request syntax, size to large, invalid request).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">forbidden</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">403</code></td>
      <td style="text-align: left">The request was valid, but the server is refusing the action. The necessary permissions to access the resource might be lacking.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">notfound</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">404</code></td>
      <td style="text-align: left">The requested resource could not be found, but may be available in the future. Subsequent requests are permissible.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">systemerror</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">500</code></td>
      <td style="text-align: left">A generic error message.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">configurationerror</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">500</code></td>
      <td style="text-align: left">A error relating to configuration issues.</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="payment-instrument-specific-problems">
        
        
          Payment Instrument Specific Problems <a href="#payment-instrument-specific-problems" class="header-anchor"></a>
        
        
      </h3>

<p>Problem types for a specific payment instrument will have a URI in the format
<code class="language-plaintext highlighter-rouge">https://api.payex.com/psp/errordetail/&lt;payment-instrument&gt;/&lt;error-type&gt;</code>. You
can read more about the payment instrument specific problem messages below:</p>

<ul>
  <li><a href="#">Card Payments</a></li>
  <li><a href="#">Invoice Payments</a></li>
  <li><a href="#">Swish Payments</a></li>
  <li>
    <p><a href="#">Vipps Payments</a></p>

  </li>
</ul>
                                    
                                </div>

                                <div class="col-2 d-none d-lg-block">
                                    <nav class="doc-toc">
                                        <ul>
  <li class="toc-2"><a href="#connection-and-protocol">Connection and Protocol</a></li>
  <li class="toc-2"><a href="#headers">Headers</a></li>
  <li class="toc-2"><a href="#uri-usage">URI Usage</a></li>
  <li class="toc-2"><a href="#uniform-responses">Uniform Responses</a></li>
  <li class="toc-2"><a href="#expansion">Expansion</a></li>
  <li class="toc-2"><a href="#data-types">Data Types</a></li>
  <li class="toc-2"><a href="#operations">Operations</a></li>
  <li class="toc-2"><a href="#callback">Callback</a></li>
  <li class="toc-2"><a href="#problems">Problems</a></li>
</ul>

                                    </nav>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>

            <footer class="page-footer">
                <p class="page-footer-rights">© Swedbank Pay</p>
            </footer>
        </div>

        <script src="https://design.swedbankpay.com/v/4.3.0/scripts/dg.js"></script>
        <script src="/assets/js/prism.js" data-manual></script>
        <script src="/assets/js/swedbank-pay-design-guide-theme.js"></script>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156582708-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156582708-1');
</script>

        
    </body>

</html>